JMLR:WorkshopandConferenceProceedingsvol49:1‚Äì21,2016LearningSimpleAuctionsJamieMorgensternTimRoughgardenAbstractWepresentageneralframeworkforprovingpolynomialsamplecomplexityboundsfortheproblemoflearningfromsamplesthebestauctioninaclassof‚Äúsimple‚Äùauctions.Ourframeworkcapturesthemostprominentexamplesof‚Äúsimple‚Äùauctions,includinganonymousandnon-anonymousitemandbundlepric-ings,witheitherasingleormultiplebuyers.Thefirststepoftheframeworkistoshowthatthesetofauctionallocationruleshavealow-dimensionalrepresentation.Thesecondstepshowsthat,acrossthesubsetofauctionsthatsharethesameallocationsonagivensetofsamples,theauctionrevenuevariesinalow-dimensionalway.OurresultsimplythatintypicalscenarioswhereitispossibletocomputeTheseobstaclescanbeaddressedinaprincipledmannerbydesigningauctionsasafunctionofseveralsamples(forus,bidders‚Äôvaluations)drawnfromanunknowndistribution,withthegoalofearninghighexpectedrevenueonafreshdrawfromthesamedistribution.Itisreasonabletoexpectthatexperiencedsellershavepreviousrecordsofthebidsmadebypreviousparticipantsinthemarket.Howmanysamplesarenecessarytodetermineanauctionwitharevenueguaranteethatgeneralizes,inthesensethattheauctionisguaranteedtoperformaswellonfuturedrawsfromadistributionasitdoesonpastsamples?Theanswerdependsuponthecomplexityofthesetofauctionsavailabletotheseller.Themorecomplextheclassofauctions,thelowertheclass‚Äôs‚Äúrepresentationerror‚Äù(thembesuchthattheempiricalrevenuemaximizerinCovermindependentlydrawnsamplesofvaluationn-tuplesv1,...,vm‚àºDearnsexpectedrevenueatleastOPT(C)‚àíonfreshsampledrawnfromD?(HereOPT(C)denotesthemaximumexpectedrevenueachievedbyanauctioninCforthedistributionD.)Wenotethatwehaveformulatedthisquestionasanunsupervisedlearningproblem,wherethesamplesgiventothelearningalgorithmareunlabeled.Thisisthenaturalmodelofbiddingdatafromcomparablepasttransactions.Ourmaintechnicalcontributionsarefirsttoshowageneralwaytomeasurethesamplecomplexityofsingle-buyerauctions,whichareinterestingintheirownright,andsecondtoshowareductionfrombound-ingthesamplecomplexityformulti-buyerauctionstoboundingthesamplecomplexityofsingle-buyerauctions.Evensingle-buyerauctionsexhibitsignificantdiscontinuitiesintheirparameterspacewhichmakethisendeavornontrivial.Furthermore,understandingthebehaviorofabidderasafunctionoftheseparam-etersisdifficultwithoutmakingassumptionsbeyondquasilinearityaboutthestructureoftheirvaluationfunction.Ourframeworkisflexibleenoughtoboundthesamplecomplexityformostofthesimpleauctionclassesthathavebeenstudiedintheliterature.Forexample,weboundthepseudo-dimensionofitempricings,grandbundlepricings,andsecond-priceitemorbundleauctionswithreserves.Thefollowingtablesummarizesourresults,aswellastheknownapproximationguaranteestheseauctionsprovide.WenotethatTheorem21isprovenusingadirectargumentratherthanourgeneralframework.SummaryofSimpleAuctionPropertiesClassValuationsPDanon,nonanonRevAPXanonymousRevAPXnonanonymousGrandbundlepricingGeneralO(1),O(n)Corollary13ItemPricingGeneralOÃÉ(k2),OÃÉ(k2n),Corollary143(1unit-demandbidder)(Chawlaetal.,2007)10.7(nunit-demandbidders)(Chawlaetal.,2010)ItemandGrandBundlePricingGeneralOÃÉ(k2),OÃÉ(k2n)6(1additivebidder)(Babaioffetal.,2014)312(1subadditivebidder)(RubinsteinandWeinberg,2015)AdditiveOÃÉ(k),OÃÉ(kn),Theorem21Theseresultsimplythatapolynomial-sizedsamplesufficestolearnanearly-optimalauctionfromtheseclassesofsimpleauctions.Equivalently,ourresultscanbethoughtofasthesamplecomplexityoflearningtheparameters(e.g.,prices)whichdefineeachmechanismbelongingtooneoftheseclasses.Thus,whencombinedwiththe‚Äúrepresentationerror‚Äùboundsfromtheliterature,itispossibletolearnauctionsthatearnaconstant-factorofthemaximum-possibleexpectedrevenueforasingleadditive(Babaioffetal.,2014)orsubadditivebidder(RubinsteinandWeinberg,2015),andnunit-demandbidders(Chawlaetal.,2010).2Manyofoursamplecomplexityboundsdonotrelyonanystructuralassumptionsaboutbuyers‚Äôvalu-ations‚Äîonlythattheirutilitiesarequasilinearandthattheyacttomaximizetheirownutility.Wepointtothisflexibilityasakeyfeatureofourtechniques:forbidderswithgeneralvaluationfunctions,itcanbequitecomplicatedtoreasonaboutbidders‚Äôbehaviordirectly.Wealsoformallydescribetheallocationsoftheseauctionclassesascomingfromsequentialallocationproceduresalldrawnfromthesameclass,andshowthatanyclasswhichhasallocationswhichcanbedescribedinthiswayalsoclassofallocationfunctions.Thisreductionmaybeofindependentinterestforprovingthatotherclassesofauctionshavesmallsamplecomplexity.1.1.RelatedWorkTherehasbeenarecentexplosionofworkonlearningnear-optimalsingle-parameterauctions3from2.PreliminariesBayesianMechanismDesignPreliminariesInthissection,weprovidethedefinitionsandmainresultsregardingsimplemulti-parametermechanismdesignnecessaryforprovingourmainresults.Weconsidertheproblemofsellingkheterogeneousitemstonbidders.EachLearningTheoryPreliminariesInthissection,weprovidedefinitionsandusefultoolsforboundingthesamplecomplexityoflearningreal-valuedfunctions.Weomitdiscussionofbinary-labeledlearningandthedefinitionsofuniformversusPAClearningforreasonsofspace(seeSectionBforfurtherdetails).Real-ValuedLabelsInordertolearnreal-valuedfunctions(forexample,toguaranteeconvergenceoftherevenueofvariousauctions),weuseareal-valuedanalogofVCdimension.Thisgivesasufficientbutnotalwaysnecessaryconditionforuniformconvergence.Wewillworkwiththepseudo-dimension(Pollard,1984),onestandardgeneralization.Formally,letc:V‚Üí[0,H]beareal-valuedfunctionoverV,andFbetheclassoffunctionsthatwearelearningover.LetSbeasampledrawnfromD,|N|=m,labeledaccordingtoc.LeterrN(cÃÇ)=(Pv‚ààN|c(v)‚àícÃÇ(v)|)/|N|denotetheempiricalerrorofcÃÇonN,andleterr(cÃÇ)=Ev‚àºD[|c(v)‚àícÃÇ(v)|]denotethetrueexpectederrorofcÃÇwithrespecttoD.Let(r1,...,rm)‚àà[0,H]mbeasetoftargetsforN.Wesay(r1,...,rm)witnessestheshatteringofNbyFif,foreachT‚äÜN,thereexistssomecT‚ààFsuchthatcT(vq)‚â•rqforallvq‚ààTandcT(vq)<rqforallvq/‚ààT.IfthereexistssomerwitnessingtheshatteringofN,wesayNisshatterablebyF.Thepseudo-dimensionofF,denotedPD(F),isthesizeofthelargestsetSwhichisshatterablebyF.Wewillderivesamplecomplexityupperboundsfromthefollowingtheorem,whichconnectsthesamplecomplexityofuniformlearningoveraclassofreal-valuedfunctionstothepseudo-dimensionoftheclass.Theorem1(E.g.AnthonyandBartlett(1999))SupposeFisaclassofreal-valuedfunctionswithrangein[0,H]andpseudo-dimensionPD(F).Forevery>0,Œ¥‚àà[0,1],thesamplecomplexityof(,Œ¥)-uniformlylearningtheclassFisn=OH2PD(F)lnH+ln1Œ¥!.Theorem1suggestsasimplelearningalgorithm:simplyoutputthefunctionc‚ààFwiththelargestempiricalrevenueonthesample.Wecallsuchalgorithmsempiricalrevenuemaximizers.MulticlassLearningThemaingoalofourworkistoboundthesamplecomplexityofrevenuemaximiza-tionformulti-parameterclassesofauctions(viaboundingtheseclasses‚Äôpseudo-dimension);ourproofsfirstboundthenumberoflabelingsofpurchasedbundleswhichtheseauctionscaninduceonasampleofsizem.Then,weargueaboutthebehavioroftherevenueofallauctionswhichagreeonthepurchasedbundlesforeverysampletoboundthepseudo-dimension.Sincebundlesareneitherbinarynorreal-valued,wenowbrieflymentionseveraltoolswhichweuseforlearningintheso-calledmulti-labelsetting.Thefirstofthesetoolsisthatofcompressionschemesforaclassoffunctions.Definition2AcompressionschemeIntuitively,acompressionfunctionselectsasubsetofd‚Äúmostrelevant‚Äùpointsfromasample,andbasedonthesepoints,thedecompressionschemeselectsahypothesis.Whensuchaschemeexists,thelearningalgorithmdecompress‚ó¶compressisanempiricalriskminimizer.Furthermore,thiscompression-basedlearningalgorithmhassamplecomplexityboundedbyafunctionofd,whichplaysaroleanalogoustoVCdimensioninthesamplecomplexityguarantees.Theorem3(LittlestoneandWarmuth(1986))SupposeFhasacompressionschemeofsized.Then,thePACsamplecomplexityofFisatmostm=Odln1+ln1Œ¥.Whilecompressionschemesimplyusefulsamplecomplexitybounds,itcanbehardtoshowthataparticularhypothesisclassadmitsacompressionscheme.Onegeneraltechniqueistoshowthattheclassislinearlyseparableinahigher-dimensionalspace.Definition4AclassFisd-dimensionallylinearlyseparableoverlabelsYifthereexistsafunctionœà:V√óY‚ÜíRdandforanyf‚ààF,thereexistssomewf‚ààRdwithf(v)‚ààargmaxyhwf,œà(v,y)iand|argmaxyhwf,œà(v,y)i|=1.Itisknownthatad-dimensionallinearlyseparableclassadmitsacompressionschemeofsized.Theorem5(Theorem5ofDanielyandShalev-Shwartz(2014))SupposeFisd-dimensionallylinearlyseparable.Then,thereexistsacompressionschemeforFofsized.Ifaclassislinearlyseparable,thisgreatlyrestrictsthenumberoflabelingsitcaninduceonasampleofsizem,atrickusedinHsuetal.(2016)andalsointhenextsectionofthispaper.WealsobrieflymentionthatifaclassFislinearlyseparable,thenpost-processingtheclasswithafixedfunctionalsoyieldsacompressionschemeovertheresultinglabelspace.Observation1SupposeFisd-dimensionallylinearlyseparableoverY.Fixsomeq:Y‚ÜíY0.Then,thereexistsacompressionschemeforq‚ó¶F={q‚ó¶f|f‚ààF}ofsizedoverY0.Withthesetoolsinhand,ourroadmapisasfollows:foraclassofauctions,wefirstprovethattheclass(whichlabelsvaluationsbyutility-maximizingbundlespurchased)islinearlyseparable,whichthenimpliesanupperboundonhowmanydistinctbundlelabelingsonecanhaveforafixedsample.Then,weargueaboutthepseudo-dimensionoftheclass(whichlabelsavaluationbytherevenueachievedwhenthatagentbuysherutility-maximizingbundle)byconsideringonlythoseauctionswhichallhavethesamebundlelabelingofmsamplesandarguingaboutthebehavioroftherevenueofthoseauctions.3.AFrameworkforBoundingPseudo-dimensionViaIntermediateDiscreteLabelsWenowproposeanewframeworkforboundingthepseudo-dimensionofmanywell-structuredclassesofreal-valuedfunctions.SupposeFissomesetofreal-valuedfunctionswhosepseudo-dimensionwewishtobound.Supposethat,foreachf‚ààF,fcanbe‚Äúfactored‚Äùintoapairoffunctions(f1,f2)suchthatf2(f1(x),x)=f(x)foranyx.Therearealways‚Äútrivial‚Äùfactorings,wherethefunctionf2=forf1(x)=x,buttheinterestingcaseariseswhenbothf1(x)andf2(fixingf1(x))dependinaverylimitedwayuponx.Inparticular,ifthesetoffunctions{f1}areverystructured,andfixingf1(x)thesetoffunctions{f2}onlydependuponxIntuitively,thiswillallowusto‚Äúbucket‚Äùfunctionsbytheirvaluesaccordingtof1onsomesample,andboundthepseudo-dimensionofeachofthosebucketsseparately.Ourparticulartechniqueforshowingsuchapropertyisfirsttoshowthatthesetoffunctions{f1}arelinearlyseparableinadimensions,thentofixsomesampleSofsizemandsomef1,andtoupper-boundbybthepseudo-dimensionofthesetoffunctionsf2whoseassociatedf01agreeswiththelabelingoff1onS.ThefollowingdefinitioncapturespreciselywhatwemeanwhenwesaythatthefunctionclassFfactorsintothesetwootherclassesoffunctions.Iff1(x)revealstoomuchaboutx,itwillbedifficulttoprovelinearseparability;similarly,iff2dependstooheavilyonx,itwillbedifficulttoproveabuckethassmallpseudo-dimension.Definition6((a,b)-factorableclassoverQ)ConsidersomeF={f:X‚ÜíR}.Defineforeachf‚ààFadecomposition,intheformoftwofunctionsf1:X‚ÜíYandf2:Y√óX‚ÜíRsuchthatf2(f1(x),x)=f(x)foreveryx‚ààX.LetF1={f1:(f1,f2)isadecompositionofsomef‚ààF}andF2={f2:(f1,f2)isadecompositionofsomef‚ààF}.ThesetF(a,b)-factorsoverQif:(1)F1isa-dimensionallylinearlyseparableoverQ‚äÜY.(2)Foreveryf1‚ààF1andsampleS‚äÇX,thesetF2|f1(S)={f02:S‚ÜíR,f02(x)=f2(f01(x),x)|f1(x)=f01(x)‚àÄx‚ààSand(f01,f2)isadecompositionofsomef‚ààF}haspseudo-dimensionatmostb.Wenowgiveanexampleofasimpleclasswhichsatisfiesthisdefinition.Onecouldeasilyboundthepseudo-dimensionofthisexampleclassusingadirectshatteringargument,butitwillbeinstructivetoworkthroughourdefinitionof(a,b)-separability.Example1FixsomesetG={g1,...,gk}‚äÇRk.SupposeF={f:f(x)=maxg‚ààGf‚äÜGg¬∑x}isthesetofallfunctionswhichtakethemaximumofatmostkcommonlinearfunctionsinafixedsetG.WewillshowthatF(kd,OÃÉ(kd))-factorsover[k],whereeachj‚àà[k]willrepresentwhichoftheklinearfunctionsismaximizingforaparticularinput.Thatis,forsomef,Gf‚äÜG,letf1(x)=argmaxt:gt‚ààGfgt¬∑xandf2(t,x)=gt¬∑x.Thus,wehaveavalidfactoring:f2(f1(x),x)=f2(argmaxt:gt‚ààGfgt¬∑x,x)=gargmaxt:gt‚ààGfgt¬∑x¬∑x=maxgt‚ààGfgt¬∑x=f(x).ItremainstoshowthatF1isd-dimensionallylinearlyseparableandtoboundthepseudo-dimensionofF2|f1.Westartwiththeformer.LetŒ®(x,t)t0j=I[t0=t]¬∑xjfort0‚àà[k],j‚àà[d].Then,letwftj=I[gt‚ààGf]¬∑gtj.ThedotproductwillthenbeŒ®(x,t)¬∑wf=Xt0I[t0whichwillbemaximizedwhent=argmaxt0:gt0‚ààGfgt0¬∑x,orwhent=f1(x).So,F1islinearlyseparableinkddimensionsover[k].Now,fixf1‚ààF1;wewillshowthepseudo-dimensionofF2|f1isatmostOÃÉ(kd).ForanyfixedsampleS=(x1,...,xm),f1(xt)isfixedforallt‚àà[m],implyingthattheinputtoallf2‚ààF2|f1,(f1(xt),xt),isfixed.Finally,bydefinitionoff02,f02(xt)=f2(f1(xt),xt)=gf1(xt)¬∑xt.Thus,foreachj‚àà[k],thesubsetSj‚äÜSforwhichf1(xt)=jforallxt‚ààSj,f02isjustalinearfunctioninddimensionsofxtwithcoefficientsgj,Thus,sincelinearfunctionsinddimensionshavepseudo-dimensionatmostd+1,thereareatmostmd+1labelingswhichcanbeinducedonSj,andatmostmk(d+1)labelingsofallofS.ThisimpliesPD(F2|f1)isatmostOÃÉ(kd).Wenowpresentthemaintheoremaboutthepseudo-dimensionofclassesthatare(a,b)-factorable.Theproofofthistheoremfirstexploitsthefactthatlinearlyseparableclasseshavea‚Äúsmall‚Äùnumberofpossibleoutputsforasampleofsizem.Then,fixingtheoutputofthelinearlyseparablefunction,thesecondsetoffunctions‚Äôpseudo-dimensionissmall.Theproofofthetheoremisrelegatedtotheappendixduetospaceconsiderations.Theorem7SupposeFis(a,b)-factorableoverQ.Then,PD(F)=O(max((a+b)ln(a+b),aln|Q|)).Intuitively,whenF1islinearlyseparableinadimensions,itcaninduceatmostma|Q|amanylabelingsofmsamples,andfixingsuchasampleanditslabeling,becauseF2haspseudo-dimensionatmostb,itcaninduceatmostmblabelingsofmsampleswithrespecttotheirthresholds.WhiletherangeofF1mightbeallofQ,itwillregularlybehelpfultoonlyneedtoprovelinearsepa-rabilityofF1onlyover‚Äúrealizable‚Äùlabelsforparticularinputs.IfF1hasthepropertythatforeveryinputx,everyf1‚ààF1labelsxwithoneofasmallersetoflabelsQx(Q,thenitsufficestoprovelinearsepa-rabilityforxoverQx.5Thefollowingremarkmakesthisclaimformal;itsproofcanbefoundinSectionE.So,wewillbeabletofocusonprovinglinearseparabilityofF1overalabelspacewhichdependsupontheinputsx.Thiswillbeparticularlyusefulwhendescribingauctionsinthenextsection,whoseallocationsareincertaincaseshighlyrestrictedbytheirinputs.Forexample,whenconsideringauctionswhichonlyeversellitemjtothehighestbidderforj,whileanypossibleallocationmightoccur,wecanrestrictourattentiontothoseallocationsforasamplewhichonlyallocatejtoothehighestbidderforj.Remark8Supposeforeachx‚ààX,thereexistssomeQx‚äÜQsuchthatf1(x)‚ààQx‚äÜQforallf1‚ààF1,andthatforeachx,F1islinearlyseparableinadimensionsforthatxoverQx.AssumethereisasubsetofdimensionT+‚äÜ[a]forwhichwft‚ààT+‚â•0andPt‚ààT+wft>0forallf.Supposethatforallx‚ààX,f‚ààF1,maxy‚ààQxŒ®(x,y)¬∑wf‚â•0.Then,F1islinearlyseparableoverQinadimensionsaswell.WealsobrieflymentionaversionofTheorem7holdsifF1needstobepost-processed.IfFhasadecompositionintosomeg‚ó¶F1,F2,forsomefixed,knowng:Q‚ÜíQ0,andF1isa-dimensionallylinearlyseparableoverQandF2|f1(S)haspseudo-dimensionatmostb,wewillsaythatF(a,b,g)-factorsoverthelabelspaceQ0.Remark9SupposeF(a,b,g)-factorsoverthelabelspaceQ0.ThenPD(F)=Omax(a+b)ln(a+b),aln|Q0|4.ConsequencesforLearningSimpleAuctions4.1.OverviewWenowpresentapplicationsoftheframeworkprovidedbyTheorem7toproveboundsonthepseudo-dimensionformanyclassesof‚Äúsimple‚Äùmulti-itemauctions.Theimplicationisthattheseclasses,whichhavebeenshowninmanyspecialcasestohavesmallrepresentationerror,alsohavesmallgeneralizationerrorwhenauctionsarechosenafterobservingapolynomiallysizedsample.Wenowdescribehowonecantranslateaclassofauctionsintoaclassoffunctionswhichhasanobviousandusefulfactorization.AnauctionA:Vn‚Üí[n]k√ó[0,H]nhastwocomponents,itsallocationfunctionA1:Vn‚Üí[n]kanditsrevenuefunctionA2:Vn‚Üí[0,H]n.WewillabusenotationandrefertoA2(v)=PiA(v)2iastherevenuefunctionforanauction.Ourgoalistoboundthesamplecomplexityofpickingsomehigh-revenuefunctionfromaclass.AllomittedproofsarefoundinSectionE.FortheremainderofthissectionweuseFtorepresentaclassofauctions,f‚ààFtorepresentaparticularauction,andF1,F2tobethecorrespondingallocationfunctionsandrevenuefunctionswhichresultfromthisdecomposition.WhenF1islinearlyseparable,thisimpliestherecanonlybesomanydistinctallocationspossibleforafixedsetofvaluationprofilesS,andwhenF2(fixingsomeallocationforS)hassmallpseudo-dimension,theclassofauctionsitselfhassmallpseudo-dimension.Weassumefortheremainderofthepaperthattherearenoties,(thatis,therearenomenusorbiddersforwhich|argmaxBu(B)|>1).6This‚Äútrivial‚Äùdecompositionofanauction‚Äôsrevenuefunctiondescribesitsrevenuefunctionasafunctionofboththeallocationchosenbyf1‚ààF1forvandthevaluationprofilev.SinceA2isafunctiononlyofv,thereisclearlyenoughinformationin(f1(v),v)tocomputeA2(v)(onecansimplyignoref1(v)andoutputf2(f1(v),v)=A2(v)).Thereasonweconsiderthisdecompositionisthatfixinganallocation,revenuefunctionsofsimpleauctionsaregenerallyverysimpletodescribeasafunctionoftheinputvaluationprofilev.IfonefixestheallocationchoiceforasampleSofmvaluations,manyauctions‚ÄôclassesofrevenuefunctionsareeitherconstantfunctionsonSwhichdonotdependuponvatall(forexample,apostedpriceauctionforasingleitemofferedtoasinglebidderearnsitspostedpriceiftheitemsellsand0whentheitemdoesn‚Äôtsell,bothofwhichareconstantswhentheallocationisfixed)ordependsonlyinaverymildway(forexample,asecond-pricesingle-itemauctionwithareserveearnsthemaximumofitsreserveandthesecond-highestbidwhentheitemsellsand0whenitdoesn‚Äôt).4.2.ItemPricesforaSingleBuyerForourfirstexample,weemployourframeworktoshowthatsingle-buyeritempricingshavesmallpseu-dodimension,regardlessofthebuyer‚Äôsvaluationtype(e.g.,additive,unit-demand,submodular,subadditive,orarbitrary).Theorem10LetFrepresenttheclassofitempricingsforasinglebuyerandkgoods.Then,PD(F2)‚â§O(k2ln(k)).ProofWewillfirstshowF1isk+1-dimensionallylinearlyseparablewithrespecttothelabelset{B:B‚äÜ{1,2,...,k}},andthenthatF2|f1(S)haspseudo-dimensionO(k).Then,Theorem7willimplythepseudodimensionbound.WestartbyshowingF1isk+1-dimensionallylinearlyseparable.LetŒ®(v,B)=(v(B),I[1‚ààB],...,I[k‚ààB])6.Weelidefurtherdiscussiononthistechnicalpoint,thoughwenoteitispossibletoencodeatie-breakingruleoverutility-maximizingbundlesinawaywhichislinearlyseparable(seeHsuetandwfp1=(1,‚àíp1,...,‚àípk)foranyitempricingfp1‚ààF1,p‚ààRk.Then,thedotproducthŒ®(v,B),wfp1i=v(B)‚àíXi‚ààBpi=u(B)encodesaquasilinearbuyer‚ÄôsutilityforabundleB;thus,thebundlelabelwhichmaximizesthisdotproductisthebundlethatmaximizesthebuyer‚Äôsutility.Sinceabuyeractstomaximizeherquasilinearutility,fp1(v)=B=argmaxB0hŒ®(v,B0),wfp1i,asdesired.Finally,weshowthatF2|f1(S)haspseudo-dimensionO(k).ForS=(v1,...,vm),fp2(fp1(vt),vt)=Pi‚ààfp1(vt)pi:revenueissimplyalinearfunctionofthekpricesoftheauction.Sincek-dimensionallinearfunctionshavepseudo-dimensionatmostO(k),thisprovestheclaim.4.3.Multiple-BuyerMechanismsWenowshowthatourframeworkisgeneralenoughtohandlemechanismswithmultiplebuyers.Mostofthe‚Äúsimple‚Äùauctionswithmultiplebuyersanditemsthathavebeenconsideredareanonymousornonanony-mousauctionswhichinteractwithbuyers‚Äúoneatatime‚Äù:first,bidder1isoffereda‚Äúmenu‚Äùofseveralpossibleallocationsatdifferentprices,andshechoosessomebundle;thenbidder2isofferedoneofseveralallocationsoftheremainingitemsatdifferentprices,andsoon.(Ofcourse,anyauctioninasingle-buyerscenarioistriviallyofthisform.)Theseauctionsaresimpleenoughthattheycanactuallyberuninpractice,andyetexpressiveenoughthatinmanycasescanearnaconstantfractionoftheoptimalrevenue.Wenextworktowardageneralreduction,fromboundingthesamplecomplexityofnonanonymousauc-tions(withmultiplebuyers)tothatofsingle-buyerauctions.Thefollowingdefinitioncapturestwoparticu-larlycommonformsoftheseauctions.Thefirstdefinitioncapturesthesettingwherethefunctionselectingthemenutobidderimaydependuponi‚Äôsidentity;thesecondreferstowhenthemenuisanonymous:whatmaybeofferedtobiddericanbedifferentthanwhatisofferedtobidderi0,butonlyduetothedifferencesinbidsvi,vi0andtheremainingavailableitemsXi(v),Xi0(v).Forexample,considerasingleitemforsale.Supposenbuyersareapproachedinsomefixedorderandbidderiisofferedtheitematpricepiifnoearlierbuyerhaspurchasedtheitem.Ifpi=pi0foralli,i0‚àà[n],thentheauctionappliedtoeachbuyeristhesame,andwesaythisauctionappliesann-wiserepeatedallocationassociatedwithasinglepostedprice.Ifpi6=pi0forsomei,i0‚àà[n],thentheallocationfunctionappliedtoeachbidderisanallocationruleassociatedwithsomesinglepostedprice,thoughtheparticularpostedpriceandthereforetheallocationfunctionvariesfrombiddertobidder;thisauction‚Äôsallocationisthereforeann-wisesequentialallocationdrawnfromtheclassofpostedprices.Foraslightlymorecomplexexample,considerasetofkheterogeneousitems[k]forsaletonbidders.Consideranauctionwhichsetsapricepijforeachitemj‚ààinductivelydefineX1(v)=[k],Xi(v)=Xi‚àí1(v)\hi‚àí1(vi‚àí1,Xi‚àí1(v)).Then,definethen-wiseproductfunctionQ(h1,...,hn)tobeY(h1,...,hn)(v)=(h1(v1,X1(v)),h2(v2,X2(v)),...hn(vn,Xn(v))).Then,wecallanysuchfunctionann-wisesequentialallocationdrawnfromH.Ifh1=h2=...=hn,wecallQh1,...,hnann-wiserepeatedallocationdrawnfromH.ThesetsX1,...,Xncorrespondtothesetsofremainingavailableitemsforeachbidderafterthepre-viousbiddershavepurchasedtheirbundlesaccordingtotheirallocationfunctions:whatisremainingforbidderiiswhateverbidderi‚àí1hadavailablelesswhateverwasallocatedtobidderi‚àí1.Thetwopreviousexamplesfitintothisscenarioperfectly.Theper-bidderallocationfunctionsarefixedup-front:thealloca-tionrulesbroughtaboutbyan(anonymous)priceforasingleitemor(anonymous)pricesforeachitem.Insomefixedorder,thebiddersareallocatedaccordingtotheirallocationrulerunontheirvaluationandtheremainingitems,andwhateveritemstheydidn‚Äôtpurchaseareavailableforthenextbidderandheralloca-tionrule.Whenthepricesdon‚Äôtdependontheindexi,theallocationfunctionforeachbidderisthesame,sothosecasescorrespondton-wiserepeatedallocationrules,whichareasubsetofthen-wisesequentialallocationruleswhichmightapplyadifferentallocationruletoeachbidder.Intheeventthatsomeclassofauctions‚ÄôallocationfunctionsF1aremadeupofn-wisesequentialallocationsfromaclassHwhichislinearlyseparable,thelinearseparabilityisimparteduponF1.Thisintuitionismadeformalbythefollowingtheorem.Theorem12SupposeFisaclassofauctions,andletF1:Vn‚ÜíQ‚äÜ[n]kbetheir(feasible)allocationfunction.SupposeF1isasetofn-wisesequentialallocationsfromsomeHwhichisa-dimensionallylinearlyseparable,whosedotproductsareupper-boundedbyH.ThenF1isan-dimensionallylinearlyseparable.Similarly,ifF1isasetofn-wiserepeatedallocationsdrawnfromHwhichisa-dimensionallylinearlyseparable,thenF1isalsoa-dimensionallylinearlyseparable.Roughlyspeaking,thisprooftakesthemapsguaranteedbylinearseparabilityofHandconcatenatesthemntimes,‚Äúblowingup‚Äùtherelativeimportanceoftheearlierbidderswithlargecoefficients.WenowpresentthethreemaincorollariesofTheorems7and12whichboundthepseudo-dimensionofseveralauctionclassesofinteresttothemechanismdesigncommunity.Inparticular,wefocuson‚Äúgrandbundle‚Äùpricings(Corollary13),whereeachbidderinturnisofferedtheentiresetofitems[k]atsomeprice,and‚Äúitempricings‚Äù(Corollary14),whereeachbidderinturnisofferedallremainingitemsandeachitemjhassomepriceforpurchasingit.Bothoftheseauctionshavetwoversions:theanonymousversion,wheretherelevantdesignparametersarethesameforallbidders,andthenon-anonymousversion,wherethoseparameterscanbebidder-specific.Asonewouldsuspect,anonymouspricingshavefewerdegreesoffreedom,andhavelowerpseudo-dimension.Moreformally,theallocationswhichcomefromanonymouspricingscanbeformulatedasn-wiseanonymousallocations,whileweformulatenon-anonymouspricings‚Äôallocationsasn-wisesequentialallocations(which,byTheorem12losesafactorofnintheupperboundontheseclasses‚Äôpseudo-dimensions).Ineachcase,F1willrepresentallocationfunctions:f1‚ààF1corre-spondstotheallocationfunctionwhichtheauctionwillimplementforquasilinearbidders.ForeveryclassF,wedefineforeveryauctionf‚ààFthefunctionf2tobetherevenuefunction,whichasafunctionofanallocationandthevaluationprofileoutputstherevenueforOurfirsttworesultsusetheframeworktothatgrandbundlepricingsanditempricingshavesmallpseudo-dimension.Thesecondcaserequiresamoredelicatetreatmentofthevaluationprofiles(buyersarenowchoosingarbitrarysubsetsofitems,andwillKobyCrammerandYoramSinger.Onthealgorithmicimplementationofmulticlasskernel-basedvectormachines.TheJournalofMachineLearningResearch,2:265‚Äì292,2002.AmitDanielyandShaiShalev-Shwartz.Optimallearnersformulticlassproblems.InCOLT2014,pages287‚Äì316,2014.URLhttp://arxiv.org/abs/1405.2420.NikhilR.Devanur,ZhiyiHuang,andChristos-AlexandrosPsomas.Thesamplecomplexityofauctionswithsideinformation.CoRR,abs/1511.02296,2015.URLhttp://arxiv.org/abs/1511.02296.ShaddinDughmi,LiHan,andNoamNisan.Samplingandrepresentationcomplexityofrevenuemaximization.InWebandInternetEconomics,volume8877ofLectureNotesinComputerScience,pages277‚Äì291.SpringerIntl.Publishing,Beijing,China,2014.AndrzejEhrenfeucht,DavidHaussler,MichaelKearns,andLeslieValiant.Agenerallowerboundonthenumberofexam-plesneededforlearning.InformationandComputation,82(3):247‚Äì261,1989.URLhttps://www.cis.upenn.edu/Àúmkearns/papers/lower.pdf.EdithElkind.Designingandlearningoptimalfinitesupportauctions.InProceedingsoftheeighteenthannualACM-SIAMsympo-siumonDiscretealgorithms,pages736‚Äì745.SIAM,2007.MichalFeldman,NickGravin,andBrendanLucier.Combinatorialauctionsviapostedprices.InProceedingsoftheTwenty-SixthAnnualACM-SIAMSymposiumonDiscreteAlgorithms,pages123‚Äì135.SIAM,2015.SteveHanneke.TheoptimalsamplecomplexityofPAClearning.CoRR,abs/1507.00473,2015.URLhttp://arxiv.org/abs/1507.00473.JasonD.HartlineandTimRoughgarden.Simpleversusoptimalmechanisms.InACMConf.onElectronicCommerce,Stanford,CA,USA.,2009.ACM.JustinHsu,JamieMorgenstern,RyanRogers,AaronRoth,andRakeshVohra.Dopricescoordinatemarkets?InSTOC,pageForthcoming,12016.ZhiyiHuang,YishayMansour,andTimRoughgarden.Makingthemostofyoursamples.InProceedingsoftheSixteenthACMConferenceonEconomicsandComputation,EC‚Äô15,pageforthcoming,NewYork,NY,USA,2015.ACM.AlexanderSKelsoJrandVincentPCrawford.Jobmatching,coalitionformation,andgrosssubstitutes.Econometrica:JournaloftheEconometricSociety,pages1483‚Äì1504,1982.NickLittlestoneandManfredWarmuth.Relatingdatacompressionandlearnability.Technicalreport,UniversityofCalifornia,SantaCruz,1986.URLhttps://users.soe.ucsc.edu/Àúmanfred/pubs/lrnk-olivier.pdf.AndresMunozMedinaandMehryarMohri.Learningtheoryandalgorithmsforrevenueoptimizationinsecondpriceauctionswithreserve.InProceedingsofThe31stIntl.Conf.onMachineLearning,pages262‚Äì270,2014.JamieHMorgensternandTimRoughgarden.Onthepseudo-dimensionofnearlyoptimalauctions.InAdvancesinNeuralInfor-mationProcessingSystems,pages136‚Äì144,2015.RogerBMyerson.Optimalauctiondesign.Mathematicsofoperationsresearch,6(1):58‚Äì73,1981.DavidPollard.Convergenceofstochasticprocesses.DavidPollard,NewHaven,Connecticut,1984.T.RoughgardenandO.Schrijvers.Ironinginthedark.Submitted,2015.AviadRubinsteinandS.MatthewWeinberg.Simplemechanismsforasubadditivebuyerandapplicationstorevenuemonotonicity.InProceedingsoftheSixteenthACMConferenceonEconomicsandComputation,EC‚Äô15,pages377‚Äì394,NewYork,NY,USA,2015.ACM.TuomasSandholmandAntonLikhodedov.Automateddesignofrevenue-maximizingVladimirNaumovichVapnikandSamuelKotz.Estimationofdependencesbasedonempiricaldata.Springer,1982.AndrewChi-ChihYao.Ann-to-1bidderreductionformulti-itemauctionsanditsapplications.InProceedingsoftheTwenty-SixthAnnualACM-SIAMSymposiumonDiscreteAlgorithms,pagesprobability1‚àíŒ¥overthechoiceofthesample.ThePACsamplecomplexityofaclassFcanbeboundedasapolynomialfunctionofVC(F),,andln1Œ¥(VapnikandChervonenkis,1971);furthermore,anyalgorithmwhichTheorem18[Babaioffetal.(2014)]Supposethereisasinglebuyerwhichhasanadditivevaluationvi‚àºDi=(Di1√ó...√óDik).Then,foranitempricingp‚ààRkandqagrandbundleprice,q‚ààRmax(maxp‚ààRkREV(p,Di),maxq‚ààRREV(q,Di))‚â•16REV(OPT,Di).Thefinalwell-knownresultforapproximatelyoptimalRubinsteinandWeinberg(2015),‚Äúsimple‚Äùrevenue-maximizingmechanismsstatesthat,foranappropriatelygeneralizeddefinitionofvaluationsdistributed‚Äúindependentlyacrossitems‚Äù,onecanapproximatelymaximizerevenuesellingtoasinglesubadditivebuyerwithitemorgrandbundlepricings.Wenowpresenttheformaldefinitionofindependencetheyuseforthesemorecomplicatedvaluationfunctions,andpresenttheirmainresult.Definition19(RubinsteinandWeinberg(2015))AdistributionDovervaluationfunctionsv:2k‚ÜíRissubadditiveoverindependentitemsif:1.AllvinthesupportofDaremonotone;v(K‚à™K0)‚â•v(K)forallK,K0.2.AllvinthesupportofDaresubadditive:v(K‚à™K0)‚â§v(K)+v(K0)forallK,K0.3.AllvinthesupportofDexhibitnoexternalities:thereexistssomeDxoverRkandafunctionVsuchthatDisadistributionthatsamplesx‚àºDxandoutputsvsuchthatv(K)=V({xŒ∫}Œ∫‚ààK,K)forallK.4.Dxisproductacrossitskdimensions.Theorem20[RubinsteinandWeinberg(2015)]SupposeDiissubadditiveoverindependentitems.Then,thereexistsauniversalconstantc‚â•1suchthatmax(maxp‚ààRkREV(p,Di),maxq‚ààRREV(q,Di))‚â•1cREV(OPT,Di).AppendixD.Atighterboundonthepseudo-dimensionofsecond-priceitemauctionswithreservesforadditivebiddersWenowpresentatighteranalysisofsecond-priceitemauctionswithreserveswhichexploitsthetotalinde-pendenceofbuyers‚Äôbehavioronitemsj,j0.Theorem21Thepseudo-dimensionofitemauctionsandsecond-priceitemauctionswithanonymousitemreservesisO(klogk)andwithnonanonymousitemprices/reservesisO(nklog(nk))whenbiddersareadditive.ProofWepresenttheprooffortheclassofsecond-priceitemauctionswithitemreserves;theitempriceresultfollowseasilysincethewinnerforjalwayspaysheritemprice(ratherthanthemaximumofthatandthesecond-highestbidforj).Ratherthanprovingtheallocationrulesarelinearlyseparable,weupper-boundthenumberofinterme-diatelabelingstheseclassescaninduceformsamples,wheretheintermediatelabelspaceweconsideristheallocationcombinedwith,foreachitem,whetherthewinnerforthatitemispayingtheitem‚ÄôsreserveorsecondpriceforThiscanbeencodedin{0,1}2kforanonymousitemreserves(abitforwhetherornotanitemissoldatitsreserveandanotherforwhetheritissoldforitssecond-price),and{0,1}2nkforThen,F1canlabelSinatmost|rangef1‚ààF1(decompress‚ó¶compress)(S,f1(S))|wayssincethisisacompressionschemeforF1.Thedecompressionfunctiontakesasinputalabeledexampleswhich,bythedefinitionofŒ±iandtheassumptionthatŒ®((vi,X),B)¬∑wh‚â§Hforallvi,X,B,h‚ààHimpliesthatthemaximizinglabelBwillfirstpickB1‚äÜ[k]=X1(v)tomaximizeŒ®((v1,X1(v)),B1)¬∑wh1,thenwillpickB2‚äÜ[k]\B1=X2(v)tomaximizeŒ®((v2,X2(v)),B2)¬∑wh2,andsoon.Thus,F1isan-dimensionallylinearlyseparable.Now,supposeF1isasetofn-wiserepeatedallocations.SinceHisa-dimensionallylinearlyseparable,weknowthatforallv,X,Bi,thereexistsŒ®((vi,X),Bi),andforallh‚ààHthereissomewhsuchthatargmaxBiŒ®((vi,X),Bi)¬∑wh=h(vi,X).WesimplyneedtodefinesomeŒ®ÃÇ:Vn√óQ‚ÜíRa,wÃÇh‚ààRasuchthatargmaxBŒ®ÃÇ(v,B)¬∑wÃÇh=(h(v1,X1(v)),h(v2,X2(v)),...,h(vn,Xn(v))).Then,defineŒ®ÃÇ(v,B)x=XiŒ±i¬∑Œ®((vi,[k]\‚à™i0<iBi0),Bi)xThen,forsomeQh,...,h)‚ààF1,definewÃÇhx=whxThen,thedotproductŒ®(v,B)¬∑wÃÇh=XxXiŒ±i¬∑Œ®((vi,[k]\‚à™i0<iBi0),Bi)x¬∑whx=XiŒ±i¬∑Œ®((vi,[k]\‚à™i0<iBi0),Bi)¬∑wh,whichbythedefinitionofŒ±iandtheguaranteedupperboundonthedotproductŒ®¬∑wh‚â§H,weknowwillbemaximizedbyfirstpickingsomeB1‚äÜ[k]=X1(v)whichmaximizesŒ®((v1,X1(v)),B1)¬∑wh,thenpickingB2‚äÜX1(v)\h(v1,X1(v))=X2(v)whichmaximizesŒ®((v2,X2(v)),B2)¬∑wh,andsoon.Thus,F1isa-dimensionallylinearlyseparable.ProofofCorollary13:Wefirstprovefirstthatforasinglebuyer,thegrand-bundlemechanismis2-dimensionallylinearlyseparableover{0,1}.LetHdenotetheclassofsingle-buyergrandbundlepricings.Forsomeh‚ààH,wedefineh1:V‚Üí{0,1}ash1(v)=I[v‚â•ph],whereph‚ààRrepresentsthepriceofthegrandbundleunderh.WewillshowHis2-dimensionallylinearlyseparableover{0,1}.DefineŒ®(v,b)=I[b=1](v([k]),1)foreachb‚àà{0,1}andwh=(1,‚àíph).Then,argmaxbŒ®(v,b)¬∑wh=argmaxbI[b=1](v([k]‚àípf)=I[v‚â•ph]=f1(v)sincethepenultimateexpressionismaximizedbyb=1onlyifv([k])‚â•pf.Thus,His2-dimensionallyseparable.NoticethatwhenFisthesetofanonymousgrandbundlepricings,itsallocationrulesF1aren-wiserepeatedallocationsfromH.Thus,byTheorem12,anonymousgrandbundlepricings‚Äôallocationsarelinearlyseparablein2dimensions.TheobviousintermediatelabelspaceQ={0}‚à™{ei|i‚àà[n]},thesetofstandardbasisvectors,containsmoreinformationthanisneededtocomputetherevenueoftheseauctions.Defineg(x)=I[||x||>0].LetF01=g‚ó¶F1.Nowweproveforeachf1‚ààF01thatF2|f1haspseudo-dimensionO(1).Fixsomef1‚ààF01.Then,so,theclassF2|g‚ó¶f1isaclassoflinearfunctionsin1dimensions,whichhavepseudo-dimensionatmost2.Thus,Fis(2,2,g)-factorableover{0,1},andRemark9impliesthatthepseudo-dimensionofanonymousgrandbundlepricingsisO(1).Similarly,whenFisthethesetofnon-anonymousgrandbundlepricings,F1aren-wisesequentialallocationsfromH.Thus,theseallocationrulesare2n-dimensionallylinearlyseparable,respectively.Inthiscase,weleavetheintermediatelabelspaceasQ={0}‚à™{ei|i‚àà[n]}.Foranyf‚ààF,letpf‚ààRndenotethepricevectorforthegrandbundle,thatispfiisi‚Äôspriceforpurchasingthegrandbundle.Fixsomef1‚ààF1;weclaimthatF2|f1haspseudo-dimensionO(n).Foranyf02‚ààF2andanyfwhichisdecomposedinto(f1,f2),wehavethatf02(v)=f2(f1(v),v)=pf¬∑f1(v),whichagainisalinearfunctionwhenf1isfixed,inthiscaseinndimensions.Thus,Fis(2n,n)-factorableoverQ,soTheorem7impliesthatthepseudo-dimensionofnonanonymousgrandbundlepricingsisO(nlogn).ProofofCorollary14:Asinthepreviousproof,weclaimthatF1,theallocationrulesoftheseauctionsaren-wiserepeatedallocationsandn-wisesequentialallocationsfromthesingle-buyeritempricingsallocationsetH.WebeginbyshowingHisk+1-dimensionallylinearlyseparable.Forsomeh‚ààH,letph‚ààRndenotetheitempricingfacedbythesinglebuyer.Then,defineforv‚ààV,B‚àà{0,1}k,Œ®(v,B)j=(I[j‚ààB]ifj‚àà[k]v(B)ifj=k+1andforh‚ààH,definewhj=(‚àíphjifj‚àà[k]1ifj=k+1.Then,wehavethatŒ®(v,B)¬∑wh=v(B)‚àíPj‚ààBphj,whichwillbemaximizedbyBwhichmaximizesv‚Äôsutility.Thus,h(v)=argmaxBv(B)‚àíPj‚ààBphj=argmaxBŒ®(v,B)¬∑wh,soHisk+1-dimensionallylinearlyseparable.ConsiderFtheclassofanonymousitemprices.Theorem12impliesthatthisclassisk+1-dimensionallylinearlyseparableoverQ=[n]k.Again,theintermediatelabelspacesuggestedbythisreductiontothesingle-buyercase,Q=[n]k,islargerthannecessarytocomputerevenue.Defineg(B)j=I[j‚àà‚à™iBi]andQ0={0,1}k.Wenowshowthat,forafixedf1‚ààF1,theclassF2|g‚ó¶f1haspseudo-dimensionO(k).Noticethatforanyf02‚ààF2|g‚ó¶f1,wehavethatf02(v)=f2(g(f1(v)),v)=pf¬∑f1(v)which,againisak-dimensionallinearfunctionforsomefixedf1,andthereforehaspseudo-dimensionatmostk+1.Thus,theclassFcanbe(k+1,k+1,g)-factoredover{0,1}k,andRemark9impliesthepseudo-dimensionisthusatmostO(k2).Theproofforthenonanonymouscaseisidentical,withtwochanges.First,F1isasetofn-wisese-quentialallocations,soitislinearlyseparableinn(k+1)dimensions.Second,wecannotcompresstheintermediatelabelspaceQ‚äÇ{0,1}nk,|Q|‚â§[n]k,sincef02(v)=f2(f1(v),v)=pf¬∑f1(v)onlyex-pressestherevenueoftheauctioniff1(v)expresseswhichbuyerspurchasewhichitems;thus,thesetF2|f1haspseudo-dimensionatmostO(nk).Thus,theclassFcanbe(O(nk),O(nk))-factoredoverQwith|Q|‚â§[n]k,andTheorem7impliesthepseudo-dimensionisthus