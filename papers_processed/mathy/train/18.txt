JMLR:WorkshopandConferenceProceedingsvol49:1â€“21,2016LearningSimpleAuctionsJamieMorgensternTimRoughgardenAbstractWepresentageneralframeworkforprovingpolynomialsamplecomplexityboundsfortheproblemoflearningfromsamplesthebestauctioninaclassofâ€œsimpleâ€auctions.Ourframeworkcapturesthemostprominentexamplesofâ€œsimpleâ€auctions,includinganonymousandnon-anonymousitemandbundlepric-ings,witheitherasingleormultiplebuyers.Thefirststepoftheframeworkistoshowthatthesetofauctionallocationruleshavealow-dimensionalrepresentation.Thesecondstepshowsthat,acrossthesubsetofauctionsthatsharethesameallocationsonagivensetofsamples,theauctionrevenuevariesinalow-dimensionalway.OurresultsimplythatintypicalscenarioswhereitispossibletocomputeTheseobstaclescanbeaddressedinaprincipledmannerbydesigningauctionsasafunctionofseveralsamples(forus,biddersâ€™valuations)drawnfromanunknowndistribution,withthegoalofearninghighexpectedrevenueonafreshdrawfromthesamedistribution.Itisreasonabletoexpectthatexperiencedsellershavepreviousrecordsofthebidsmadebypreviousparticipantsinthemarket.Howmanysamplesarenecessarytodetermineanauctionwitharevenueguaranteethatgeneralizes,inthesensethattheauctionisguaranteedtoperformaswellonfuturedrawsfromadistributionasitdoesonpastsamples?Theanswerdependsuponthecomplexityofthesetofauctionsavailabletotheseller.Themorecomplextheclassofauctions,thelowertheclassâ€™sâ€œrepresentationerrorâ€(thembesuchthattheempiricalrevenuemaximizerinCovermindependentlydrawnsamplesofvaluationn-tuplesv1,...,vmâˆ¼DearnsexpectedrevenueatleastOPT(C)âˆ’onfreshsampledrawnfromD?(HereOPT(C)denotesthemaximumexpectedrevenueachievedbyanauctioninCforthedistributionD.)Wenotethatwehaveformulatedthisquestionasanunsupervisedlearningproblem,wherethesamplesgiventothelearningalgorithmareunlabeled.Thisisthenaturalmodelofbiddingdatafromcomparablepasttransactions.Ourmaintechnicalcontributionsarefirsttoshowageneralwaytomeasurethesamplecomplexityofsingle-buyerauctions,whichareinterestingintheirownright,andsecondtoshowareductionfrombound-ingthesamplecomplexityformulti-buyerauctionstoboundingthesamplecomplexityofsingle-buyerauctions.Evensingle-buyerauctionsexhibitsignificantdiscontinuitiesintheirparameterspacewhichmakethisendeavornontrivial.Furthermore,understandingthebehaviorofabidderasafunctionoftheseparam-etersisdifficultwithoutmakingassumptionsbeyondquasilinearityaboutthestructureoftheirvaluationfunction.Ourframeworkisflexibleenoughtoboundthesamplecomplexityformostofthesimpleauctionclassesthathavebeenstudiedintheliterature.Forexample,weboundthepseudo-dimensionofitempricings,grandbundlepricings,andsecond-priceitemorbundleauctionswithreserves.Thefollowingtablesummarizesourresults,aswellastheknownapproximationguaranteestheseauctionsprovide.WenotethatTheorem21isprovenusingadirectargumentratherthanourgeneralframework.SummaryofSimpleAuctionPropertiesClassValuationsPDanon,nonanonRevAPXanonymousRevAPXnonanonymousGrandbundlepricingGeneralO(1),O(n)Corollary13ItemPricingGeneralOÌƒ(k2),OÌƒ(k2n),Corollary143(1unit-demandbidder)(Chawlaetal.,2007)10.7(nunit-demandbidders)(Chawlaetal.,2010)ItemandGrandBundlePricingGeneralOÌƒ(k2),OÌƒ(k2n)6(1additivebidder)(Babaioffetal.,2014)312(1subadditivebidder)(RubinsteinandWeinberg,2015)AdditiveOÌƒ(k),OÌƒ(kn),Theorem21Theseresultsimplythatapolynomial-sizedsamplesufficestolearnanearly-optimalauctionfromtheseclassesofsimpleauctions.Equivalently,ourresultscanbethoughtofasthesamplecomplexityoflearningtheparameters(e.g.,prices)whichdefineeachmechanismbelongingtooneoftheseclasses.Thus,whencombinedwiththeâ€œrepresentationerrorâ€boundsfromtheliterature,itispossibletolearnauctionsthatearnaconstant-factorofthemaximum-possibleexpectedrevenueforasingleadditive(Babaioffetal.,2014)orsubadditivebidder(RubinsteinandWeinberg,2015),andnunit-demandbidders(Chawlaetal.,2010).2Manyofoursamplecomplexityboundsdonotrelyonanystructuralassumptionsaboutbuyersâ€™valu-ationsâ€”onlythattheirutilitiesarequasilinearandthattheyacttomaximizetheirownutility.Wepointtothisflexibilityasakeyfeatureofourtechniques:forbidderswithgeneralvaluationfunctions,itcanbequitecomplicatedtoreasonaboutbiddersâ€™behaviordirectly.Wealsoformallydescribetheallocationsoftheseauctionclassesascomingfromsequentialallocationproceduresalldrawnfromthesameclass,andshowthatanyclasswhichhasallocationswhichcanbedescribedinthiswayalsoclassofallocationfunctions.Thisreductionmaybeofindependentinterestforprovingthatotherclassesofauctionshavesmallsamplecomplexity.1.1.RelatedWorkTherehasbeenarecentexplosionofworkonlearningnear-optimalsingle-parameterauctions3from2.PreliminariesBayesianMechanismDesignPreliminariesInthissection,weprovidethedefinitionsandmainresultsregardingsimplemulti-parametermechanismdesignnecessaryforprovingourmainresults.Weconsidertheproblemofsellingkheterogeneousitemstonbidders.EachLearningTheoryPreliminariesInthissection,weprovidedefinitionsandusefultoolsforboundingthesamplecomplexityoflearningreal-valuedfunctions.Weomitdiscussionofbinary-labeledlearningandthedefinitionsofuniformversusPAClearningforreasonsofspace(seeSectionBforfurtherdetails).Real-ValuedLabelsInordertolearnreal-valuedfunctions(forexample,toguaranteeconvergenceoftherevenueofvariousauctions),weuseareal-valuedanalogofVCdimension.Thisgivesasufficientbutnotalwaysnecessaryconditionforuniformconvergence.Wewillworkwiththepseudo-dimension(Pollard,1984),onestandardgeneralization.Formally,letc:Vâ†’[0,H]beareal-valuedfunctionoverV,andFbetheclassoffunctionsthatwearelearningover.LetSbeasampledrawnfromD,|N|=m,labeledaccordingtoc.LeterrN(cÌ‚)=(PvâˆˆN|c(v)âˆ’cÌ‚(v)|)/|N|denotetheempiricalerrorofcÌ‚onN,andleterr(cÌ‚)=Evâˆ¼D[|c(v)âˆ’cÌ‚(v)|]denotethetrueexpectederrorofcÌ‚withrespecttoD.Let(r1,...,rm)âˆˆ[0,H]mbeasetoftargetsforN.Wesay(r1,...,rm)witnessestheshatteringofNbyFif,foreachTâŠ†N,thereexistssomecTâˆˆFsuchthatcT(vq)â‰¥rqforallvqâˆˆTandcT(vq)<rqforallvq/âˆˆT.IfthereexistssomerwitnessingtheshatteringofN,wesayNisshatterablebyF.Thepseudo-dimensionofF,denotedPD(F),isthesizeofthelargestsetSwhichisshatterablebyF.Wewillderivesamplecomplexityupperboundsfromthefollowingtheorem,whichconnectsthesamplecomplexityofuniformlearningoveraclassofreal-valuedfunctionstothepseudo-dimensionoftheclass.Theorem1(E.g.AnthonyandBartlett(1999))SupposeFisaclassofreal-valuedfunctionswithrangein[0,H]andpseudo-dimensionPD(F).Forevery>0,Î´âˆˆ[0,1],thesamplecomplexityof(,Î´)-uniformlylearningtheclassFisn=OH2PD(F)lnH+ln1Î´!.Theorem1suggestsasimplelearningalgorithm:simplyoutputthefunctioncâˆˆFwiththelargestempiricalrevenueonthesample.Wecallsuchalgorithmsempiricalrevenuemaximizers.MulticlassLearningThemaingoalofourworkistoboundthesamplecomplexityofrevenuemaximiza-tionformulti-parameterclassesofauctions(viaboundingtheseclassesâ€™pseudo-dimension);ourproofsfirstboundthenumberoflabelingsofpurchasedbundleswhichtheseauctionscaninduceonasampleofsizem.Then,weargueaboutthebehavioroftherevenueofallauctionswhichagreeonthepurchasedbundlesforeverysampletoboundthepseudo-dimension.Sincebundlesareneitherbinarynorreal-valued,wenowbrieflymentionseveraltoolswhichweuseforlearningintheso-calledmulti-labelsetting.Thefirstofthesetoolsisthatofcompressionschemesforaclassoffunctions.Definition2AcompressionschemeIntuitively,acompressionfunctionselectsasubsetofdâ€œmostrelevantâ€pointsfromasample,andbasedonthesepoints,thedecompressionschemeselectsahypothesis.Whensuchaschemeexists,thelearningalgorithmdecompressâ—¦compressisanempiricalriskminimizer.Furthermore,thiscompression-basedlearningalgorithmhassamplecomplexityboundedbyafunctionofd,whichplaysaroleanalogoustoVCdimensioninthesamplecomplexityguarantees.Theorem3(LittlestoneandWarmuth(1986))SupposeFhasacompressionschemeofsized.Then,thePACsamplecomplexityofFisatmostm=Odln1+ln1Î´.Whilecompressionschemesimplyusefulsamplecomplexitybounds,itcanbehardtoshowthataparticularhypothesisclassadmitsacompressionscheme.Onegeneraltechniqueistoshowthattheclassislinearlyseparableinahigher-dimensionalspace.Definition4AclassFisd-dimensionallylinearlyseparableoverlabelsYifthereexistsafunctionÏˆ:VÃ—Yâ†’RdandforanyfâˆˆF,thereexistssomewfâˆˆRdwithf(v)âˆˆargmaxyhwf,Ïˆ(v,y)iand|argmaxyhwf,Ïˆ(v,y)i|=1.Itisknownthatad-dimensionallinearlyseparableclassadmitsacompressionschemeofsized.Theorem5(Theorem5ofDanielyandShalev-Shwartz(2014))SupposeFisd-dimensionallylinearlyseparable.Then,thereexistsacompressionschemeforFofsized.Ifaclassislinearlyseparable,thisgreatlyrestrictsthenumberoflabelingsitcaninduceonasampleofsizem,atrickusedinHsuetal.(2016)andalsointhenextsectionofthispaper.WealsobrieflymentionthatifaclassFislinearlyseparable,thenpost-processingtheclasswithafixedfunctionalsoyieldsacompressionschemeovertheresultinglabelspace.Observation1SupposeFisd-dimensionallylinearlyseparableoverY.Fixsomeq:Yâ†’Y0.Then,thereexistsacompressionschemeforqâ—¦F={qâ—¦f|fâˆˆF}ofsizedoverY0.Withthesetoolsinhand,ourroadmapisasfollows:foraclassofauctions,wefirstprovethattheclass(whichlabelsvaluationsbyutility-maximizingbundlespurchased)islinearlyseparable,whichthenimpliesanupperboundonhowmanydistinctbundlelabelingsonecanhaveforafixedsample.Then,weargueaboutthepseudo-dimensionoftheclass(whichlabelsavaluationbytherevenueachievedwhenthatagentbuysherutility-maximizingbundle)byconsideringonlythoseauctionswhichallhavethesamebundlelabelingofmsamplesandarguingaboutthebehavioroftherevenueofthoseauctions.3.AFrameworkforBoundingPseudo-dimensionViaIntermediateDiscreteLabelsWenowproposeanewframeworkforboundingthepseudo-dimensionofmanywell-structuredclassesofreal-valuedfunctions.SupposeFissomesetofreal-valuedfunctionswhosepseudo-dimensionwewishtobound.Supposethat,foreachfâˆˆF,fcanbeâ€œfactoredâ€intoapairoffunctions(f1,f2)suchthatf2(f1(x),x)=f(x)foranyx.Therearealwaysâ€œtrivialâ€factorings,wherethefunctionf2=forf1(x)=x,buttheinterestingcaseariseswhenbothf1(x)andf2(fixingf1(x))dependinaverylimitedwayuponx.Inparticular,ifthesetoffunctions{f1}areverystructured,andfixingf1(x)thesetoffunctions{f2}onlydependuponxIntuitively,thiswillallowustoâ€œbucketâ€functionsbytheirvaluesaccordingtof1onsomesample,andboundthepseudo-dimensionofeachofthosebucketsseparately.Ourparticulartechniqueforshowingsuchapropertyisfirsttoshowthatthesetoffunctions{f1}arelinearlyseparableinadimensions,thentofixsomesampleSofsizemandsomef1,andtoupper-boundbybthepseudo-dimensionofthesetoffunctionsf2whoseassociatedf01agreeswiththelabelingoff1onS.ThefollowingdefinitioncapturespreciselywhatwemeanwhenwesaythatthefunctionclassFfactorsintothesetwootherclassesoffunctions.Iff1(x)revealstoomuchaboutx,itwillbedifficulttoprovelinearseparability;similarly,iff2dependstooheavilyonx,itwillbedifficulttoproveabuckethassmallpseudo-dimension.Definition6((a,b)-factorableclassoverQ)ConsidersomeF={f:Xâ†’R}.DefineforeachfâˆˆFadecomposition,intheformoftwofunctionsf1:Xâ†’Yandf2:YÃ—Xâ†’Rsuchthatf2(f1(x),x)=f(x)foreveryxâˆˆX.LetF1={f1:(f1,f2)isadecompositionofsomefâˆˆF}andF2={f2:(f1,f2)isadecompositionofsomefâˆˆF}.ThesetF(a,b)-factorsoverQif:(1)F1isa-dimensionallylinearlyseparableoverQâŠ†Y.(2)Foreveryf1âˆˆF1andsampleSâŠ‚X,thesetF2|f1(S)={f02:Sâ†’R,f02(x)=f2(f01(x),x)|f1(x)=f01(x)âˆ€xâˆˆSand(f01,f2)isadecompositionofsomefâˆˆF}haspseudo-dimensionatmostb.Wenowgiveanexampleofasimpleclasswhichsatisfiesthisdefinition.Onecouldeasilyboundthepseudo-dimensionofthisexampleclassusingadirectshatteringargument,butitwillbeinstructivetoworkthroughourdefinitionof(a,b)-separability.Example1FixsomesetG={g1,...,gk}âŠ‚Rk.SupposeF={f:f(x)=maxgâˆˆGfâŠ†GgÂ·x}isthesetofallfunctionswhichtakethemaximumofatmostkcommonlinearfunctionsinafixedsetG.WewillshowthatF(kd,OÌƒ(kd))-factorsover[k],whereeachjâˆˆ[k]willrepresentwhichoftheklinearfunctionsismaximizingforaparticularinput.Thatis,forsomef,GfâŠ†G,letf1(x)=argmaxt:gtâˆˆGfgtÂ·xandf2(t,x)=gtÂ·x.Thus,wehaveavalidfactoring:f2(f1(x),x)=f2(argmaxt:gtâˆˆGfgtÂ·x,x)=gargmaxt:gtâˆˆGfgtÂ·xÂ·x=maxgtâˆˆGfgtÂ·x=f(x).ItremainstoshowthatF1isd-dimensionallylinearlyseparableandtoboundthepseudo-dimensionofF2|f1.Westartwiththeformer.LetÎ¨(x,t)t0j=I[t0=t]Â·xjfort0âˆˆ[k],jâˆˆ[d].Then,letwftj=I[gtâˆˆGf]Â·gtj.ThedotproductwillthenbeÎ¨(x,t)Â·wf=Xt0I[t0whichwillbemaximizedwhent=argmaxt0:gt0âˆˆGfgt0Â·x,orwhent=f1(x).So,F1islinearlyseparableinkddimensionsover[k].Now,fixf1âˆˆF1;wewillshowthepseudo-dimensionofF2|f1isatmostOÌƒ(kd).ForanyfixedsampleS=(x1,...,xm),f1(xt)isfixedforalltâˆˆ[m],implyingthattheinputtoallf2âˆˆF2|f1,(f1(xt),xt),isfixed.Finally,bydefinitionoff02,f02(xt)=f2(f1(xt),xt)=gf1(xt)Â·xt.Thus,foreachjâˆˆ[k],thesubsetSjâŠ†Sforwhichf1(xt)=jforallxtâˆˆSj,f02isjustalinearfunctioninddimensionsofxtwithcoefficientsgj,Thus,sincelinearfunctionsinddimensionshavepseudo-dimensionatmostd+1,thereareatmostmd+1labelingswhichcanbeinducedonSj,andatmostmk(d+1)labelingsofallofS.ThisimpliesPD(F2|f1)isatmostOÌƒ(kd).Wenowpresentthemaintheoremaboutthepseudo-dimensionofclassesthatare(a,b)-factorable.Theproofofthistheoremfirstexploitsthefactthatlinearlyseparableclasseshaveaâ€œsmallâ€numberofpossibleoutputsforasampleofsizem.Then,fixingtheoutputofthelinearlyseparablefunction,thesecondsetoffunctionsâ€™pseudo-dimensionissmall.Theproofofthetheoremisrelegatedtotheappendixduetospaceconsiderations.Theorem7SupposeFis(a,b)-factorableoverQ.Then,PD(F)=O(max((a+b)ln(a+b),aln|Q|)).Intuitively,whenF1islinearlyseparableinadimensions,itcaninduceatmostma|Q|amanylabelingsofmsamples,andfixingsuchasampleanditslabeling,becauseF2haspseudo-dimensionatmostb,itcaninduceatmostmblabelingsofmsampleswithrespecttotheirthresholds.WhiletherangeofF1mightbeallofQ,itwillregularlybehelpfultoonlyneedtoprovelinearsepa-rabilityofF1onlyoverâ€œrealizableâ€labelsforparticularinputs.IfF1hasthepropertythatforeveryinputx,everyf1âˆˆF1labelsxwithoneofasmallersetoflabelsQx(Q,thenitsufficestoprovelinearsepa-rabilityforxoverQx.5Thefollowingremarkmakesthisclaimformal;itsproofcanbefoundinSectionE.So,wewillbeabletofocusonprovinglinearseparabilityofF1overalabelspacewhichdependsupontheinputsx.Thiswillbeparticularlyusefulwhendescribingauctionsinthenextsection,whoseallocationsareincertaincaseshighlyrestrictedbytheirinputs.Forexample,whenconsideringauctionswhichonlyeversellitemjtothehighestbidderforj,whileanypossibleallocationmightoccur,wecanrestrictourattentiontothoseallocationsforasamplewhichonlyallocatejtoothehighestbidderforj.Remark8SupposeforeachxâˆˆX,thereexistssomeQxâŠ†Qsuchthatf1(x)âˆˆQxâŠ†Qforallf1âˆˆF1,andthatforeachx,F1islinearlyseparableinadimensionsforthatxoverQx.AssumethereisasubsetofdimensionT+âŠ†[a]forwhichwftâˆˆT+â‰¥0andPtâˆˆT+wft>0forallf.SupposethatforallxâˆˆX,fâˆˆF1,maxyâˆˆQxÎ¨(x,y)Â·wfâ‰¥0.Then,F1islinearlyseparableoverQinadimensionsaswell.WealsobrieflymentionaversionofTheorem7holdsifF1needstobepost-processed.IfFhasadecompositionintosomegâ—¦F1,F2,forsomefixed,knowng:Qâ†’Q0,andF1isa-dimensionallylinearlyseparableoverQandF2|f1(S)haspseudo-dimensionatmostb,wewillsaythatF(a,b,g)-factorsoverthelabelspaceQ0.Remark9SupposeF(a,b,g)-factorsoverthelabelspaceQ0.ThenPD(F)=Omax(a+b)ln(a+b),aln|Q0|4.ConsequencesforLearningSimpleAuctions4.1.OverviewWenowpresentapplicationsoftheframeworkprovidedbyTheorem7toproveboundsonthepseudo-dimensionformanyclassesofâ€œsimpleâ€multi-itemauctions.Theimplicationisthattheseclasses,whichhavebeenshowninmanyspecialcasestohavesmallrepresentationerror,alsohavesmallgeneralizationerrorwhenauctionsarechosenafterobservingapolynomiallysizedsample.Wenowdescribehowonecantranslateaclassofauctionsintoaclassoffunctionswhichhasanobviousandusefulfactorization.AnauctionA:Vnâ†’[n]kÃ—[0,H]nhastwocomponents,itsallocationfunctionA1:Vnâ†’[n]kanditsrevenuefunctionA2:Vnâ†’[0,H]n.WewillabusenotationandrefertoA2(v)=PiA(v)2iastherevenuefunctionforanauction.Ourgoalistoboundthesamplecomplexityofpickingsomehigh-revenuefunctionfromaclass.AllomittedproofsarefoundinSectionE.FortheremainderofthissectionweuseFtorepresentaclassofauctions,fâˆˆFtorepresentaparticularauction,andF1,F2tobethecorrespondingallocationfunctionsandrevenuefunctionswhichresultfromthisdecomposition.WhenF1islinearlyseparable,thisimpliestherecanonlybesomanydistinctallocationspossibleforafixedsetofvaluationprofilesS,andwhenF2(fixingsomeallocationforS)hassmallpseudo-dimension,theclassofauctionsitselfhassmallpseudo-dimension.Weassumefortheremainderofthepaperthattherearenoties,(thatis,therearenomenusorbiddersforwhich|argmaxBu(B)|>1).6Thisâ€œtrivialâ€decompositionofanauctionâ€™srevenuefunctiondescribesitsrevenuefunctionasafunctionofboththeallocationchosenbyf1âˆˆF1forvandthevaluationprofilev.SinceA2isafunctiononlyofv,thereisclearlyenoughinformationin(f1(v),v)tocomputeA2(v)(onecansimplyignoref1(v)andoutputf2(f1(v),v)=A2(v)).Thereasonweconsiderthisdecompositionisthatfixinganallocation,revenuefunctionsofsimpleauctionsaregenerallyverysimpletodescribeasafunctionoftheinputvaluationprofilev.IfonefixestheallocationchoiceforasampleSofmvaluations,manyauctionsâ€™classesofrevenuefunctionsareeitherconstantfunctionsonSwhichdonotdependuponvatall(forexample,apostedpriceauctionforasingleitemofferedtoasinglebidderearnsitspostedpriceiftheitemsellsand0whentheitemdoesnâ€™tsell,bothofwhichareconstantswhentheallocationisfixed)ordependsonlyinaverymildway(forexample,asecond-pricesingle-itemauctionwithareserveearnsthemaximumofitsreserveandthesecond-highestbidwhentheitemsellsand0whenitdoesnâ€™t).4.2.ItemPricesforaSingleBuyerForourfirstexample,weemployourframeworktoshowthatsingle-buyeritempricingshavesmallpseu-dodimension,regardlessofthebuyerâ€™svaluationtype(e.g.,additive,unit-demand,submodular,subadditive,orarbitrary).Theorem10LetFrepresenttheclassofitempricingsforasinglebuyerandkgoods.Then,PD(F2)â‰¤O(k2ln(k)).ProofWewillfirstshowF1isk+1-dimensionallylinearlyseparablewithrespecttothelabelset{B:BâŠ†{1,2,...,k}},andthenthatF2|f1(S)haspseudo-dimensionO(k).Then,Theorem7willimplythepseudodimensionbound.WestartbyshowingF1isk+1-dimensionallylinearlyseparable.LetÎ¨(v,B)=(v(B),I[1âˆˆB],...,I[kâˆˆB])6.Weelidefurtherdiscussiononthistechnicalpoint,thoughwenoteitispossibletoencodeatie-breakingruleoverutility-maximizingbundlesinawaywhichislinearlyseparable(seeHsuetandwfp1=(1,âˆ’p1,...,âˆ’pk)foranyitempricingfp1âˆˆF1,pâˆˆRk.Then,thedotproducthÎ¨(v,B),wfp1i=v(B)âˆ’XiâˆˆBpi=u(B)encodesaquasilinearbuyerâ€™sutilityforabundleB;thus,thebundlelabelwhichmaximizesthisdotproductisthebundlethatmaximizesthebuyerâ€™sutility.Sinceabuyeractstomaximizeherquasilinearutility,fp1(v)=B=argmaxB0hÎ¨(v,B0),wfp1i,asdesired.Finally,weshowthatF2|f1(S)haspseudo-dimensionO(k).ForS=(v1,...,vm),fp2(fp1(vt),vt)=Piâˆˆfp1(vt)pi:revenueissimplyalinearfunctionofthekpricesoftheauction.Sincek-dimensionallinearfunctionshavepseudo-dimensionatmostO(k),thisprovestheclaim.4.3.Multiple-BuyerMechanismsWenowshowthatourframeworkisgeneralenoughtohandlemechanismswithmultiplebuyers.Mostoftheâ€œsimpleâ€auctionswithmultiplebuyersanditemsthathavebeenconsideredareanonymousornonanony-mousauctionswhichinteractwithbuyersâ€œoneatatimeâ€:first,bidder1isofferedaâ€œmenuâ€ofseveralpossibleallocationsatdifferentprices,andshechoosessomebundle;thenbidder2isofferedoneofseveralallocationsoftheremainingitemsatdifferentprices,andsoon.(Ofcourse,anyauctioninasingle-buyerscenarioistriviallyofthisform.)Theseauctionsaresimpleenoughthattheycanactuallyberuninpractice,andyetexpressiveenoughthatinmanycasescanearnaconstantfractionoftheoptimalrevenue.Wenextworktowardageneralreduction,fromboundingthesamplecomplexityofnonanonymousauc-tions(withmultiplebuyers)tothatofsingle-buyerauctions.Thefollowingdefinitioncapturestwoparticu-larlycommonformsoftheseauctions.Thefirstdefinitioncapturesthesettingwherethefunctionselectingthemenutobidderimaydependuponiâ€™sidentity;thesecondreferstowhenthemenuisanonymous:whatmaybeofferedtobiddericanbedifferentthanwhatisofferedtobidderi0,butonlyduetothedifferencesinbidsvi,vi0andtheremainingavailableitemsXi(v),Xi0(v).Forexample,considerasingleitemforsale.Supposenbuyersareapproachedinsomefixedorderandbidderiisofferedtheitematpricepiifnoearlierbuyerhaspurchasedtheitem.Ifpi=pi0foralli,i0âˆˆ[n],thentheauctionappliedtoeachbuyeristhesame,andwesaythisauctionappliesann-wiserepeatedallocationassociatedwithasinglepostedprice.Ifpi6=pi0forsomei,i0âˆˆ[n],thentheallocationfunctionappliedtoeachbidderisanallocationruleassociatedwithsomesinglepostedprice,thoughtheparticularpostedpriceandthereforetheallocationfunctionvariesfrombiddertobidder;thisauctionâ€™sallocationisthereforeann-wisesequentialallocationdrawnfromtheclassofpostedprices.Foraslightlymorecomplexexample,considerasetofkheterogeneousitems[k]forsaletonbidders.ConsideranauctionwhichsetsapricepijforeachitemjâˆˆinductivelydefineX1(v)=[k],Xi(v)=Xiâˆ’1(v)\hiâˆ’1(viâˆ’1,Xiâˆ’1(v)).Then,definethen-wiseproductfunctionQ(h1,...,hn)tobeY(h1,...,hn)(v)=(h1(v1,X1(v)),h2(v2,X2(v)),...hn(vn,Xn(v))).Then,wecallanysuchfunctionann-wisesequentialallocationdrawnfromH.Ifh1=h2=...=hn,wecallQh1,...,hnann-wiserepeatedallocationdrawnfromH.ThesetsX1,...,Xncorrespondtothesetsofremainingavailableitemsforeachbidderafterthepre-viousbiddershavepurchasedtheirbundlesaccordingtotheirallocationfunctions:whatisremainingforbidderiiswhateverbidderiâˆ’1hadavailablelesswhateverwasallocatedtobidderiâˆ’1.Thetwopreviousexamplesfitintothisscenarioperfectly.Theper-bidderallocationfunctionsarefixedup-front:thealloca-tionrulesbroughtaboutbyan(anonymous)priceforasingleitemor(anonymous)pricesforeachitem.Insomefixedorder,thebiddersareallocatedaccordingtotheirallocationrulerunontheirvaluationandtheremainingitems,andwhateveritemstheydidnâ€™tpurchaseareavailableforthenextbidderandheralloca-tionrule.Whenthepricesdonâ€™tdependontheindexi,theallocationfunctionforeachbidderisthesame,sothosecasescorrespondton-wiserepeatedallocationrules,whichareasubsetofthen-wisesequentialallocationruleswhichmightapplyadifferentallocationruletoeachbidder.Intheeventthatsomeclassofauctionsâ€™allocationfunctionsF1aremadeupofn-wisesequentialallocationsfromaclassHwhichislinearlyseparable,thelinearseparabilityisimparteduponF1.Thisintuitionismadeformalbythefollowingtheorem.Theorem12SupposeFisaclassofauctions,andletF1:Vnâ†’QâŠ†[n]kbetheir(feasible)allocationfunction.SupposeF1isasetofn-wisesequentialallocationsfromsomeHwhichisa-dimensionallylinearlyseparable,whosedotproductsareupper-boundedbyH.ThenF1isan-dimensionallylinearlyseparable.Similarly,ifF1isasetofn-wiserepeatedallocationsdrawnfromHwhichisa-dimensionallylinearlyseparable,thenF1isalsoa-dimensionallylinearlyseparable.Roughlyspeaking,thisprooftakesthemapsguaranteedbylinearseparabilityofHandconcatenatesthemntimes,â€œblowingupâ€therelativeimportanceoftheearlierbidderswithlargecoefficients.WenowpresentthethreemaincorollariesofTheorems7and12whichboundthepseudo-dimensionofseveralauctionclassesofinteresttothemechanismdesigncommunity.Inparticular,wefocusonâ€œgrandbundleâ€pricings(Corollary13),whereeachbidderinturnisofferedtheentiresetofitems[k]atsomeprice,andâ€œitempricingsâ€(Corollary14),whereeachbidderinturnisofferedallremainingitemsandeachitemjhassomepriceforpurchasingit.Bothoftheseauctionshavetwoversions:theanonymousversion,wheretherelevantdesignparametersarethesameforallbidders,andthenon-anonymousversion,wherethoseparameterscanbebidder-specific.Asonewouldsuspect,anonymouspricingshavefewerdegreesoffreedom,andhavelowerpseudo-dimension.Moreformally,theallocationswhichcomefromanonymouspricingscanbeformulatedasn-wiseanonymousallocations,whileweformulatenon-anonymouspricingsâ€™allocationsasn-wisesequentialallocations(which,byTheorem12losesafactorofnintheupperboundontheseclassesâ€™pseudo-dimensions).Ineachcase,F1willrepresentallocationfunctions:f1âˆˆF1corre-spondstotheallocationfunctionwhichtheauctionwillimplementforquasilinearbidders.ForeveryclassF,wedefineforeveryauctionfâˆˆFthefunctionf2tobetherevenuefunction,whichasafunctionofanallocationandthevaluationprofileoutputstherevenueforOurfirsttworesultsusetheframeworktothatgrandbundlepricingsanditempricingshavesmallpseudo-dimension.Thesecondcaserequiresamoredelicatetreatmentofthevaluationprofiles(buyersarenowchoosingarbitrarysubsetsofitems,andwillKobyCrammerandYoramSinger.Onthealgorithmicimplementationofmulticlasskernel-basedvectormachines.TheJournalofMachineLearningResearch,2:265â€“292,2002.AmitDanielyandShaiShalev-Shwartz.Optimallearnersformulticlassproblems.InCOLT2014,pages287â€“316,2014.URLhttp://arxiv.org/abs/1405.2420.NikhilR.Devanur,ZhiyiHuang,andChristos-AlexandrosPsomas.Thesamplecomplexityofauctionswithsideinformation.CoRR,abs/1511.02296,2015.URLhttp://arxiv.org/abs/1511.02296.ShaddinDughmi,LiHan,andNoamNisan.Samplingandrepresentationcomplexityofrevenuemaximization.InWebandInternetEconomics,volume8877ofLectureNotesinComputerScience,pages277â€“291.SpringerIntl.Publishing,Beijing,China,2014.AndrzejEhrenfeucht,DavidHaussler,MichaelKearns,andLeslieValiant.Agenerallowerboundonthenumberofexam-plesneededforlearning.InformationandComputation,82(3):247â€“261,1989.URLhttps://www.cis.upenn.edu/Ëœmkearns/papers/lower.pdf.EdithElkind.Designingandlearningoptimalfinitesupportauctions.InProceedingsoftheeighteenthannualACM-SIAMsympo-siumonDiscretealgorithms,pages736â€“745.SIAM,2007.MichalFeldman,NickGravin,andBrendanLucier.Combinatorialauctionsviapostedprices.InProceedingsoftheTwenty-SixthAnnualACM-SIAMSymposiumonDiscreteAlgorithms,pages123â€“135.SIAM,2015.SteveHanneke.TheoptimalsamplecomplexityofPAClearning.CoRR,abs/1507.00473,2015.URLhttp://arxiv.org/abs/1507.00473.JasonD.HartlineandTimRoughgarden.Simpleversusoptimalmechanisms.InACMConf.onElectronicCommerce,Stanford,CA,USA.,2009.ACM.JustinHsu,JamieMorgenstern,RyanRogers,AaronRoth,andRakeshVohra.Dopricescoordinatemarkets?InSTOC,pageForthcoming,12016.ZhiyiHuang,YishayMansour,andTimRoughgarden.Makingthemostofyoursamples.InProceedingsoftheSixteenthACMConferenceonEconomicsandComputation,ECâ€™15,pageforthcoming,NewYork,NY,USA,2015.ACM.AlexanderSKelsoJrandVincentPCrawford.Jobmatching,coalitionformation,andgrosssubstitutes.Econometrica:JournaloftheEconometricSociety,pages1483â€“1504,1982.NickLittlestoneandManfredWarmuth.Relatingdatacompressionandlearnability.Technicalreport,UniversityofCalifornia,SantaCruz,1986.URLhttps://users.soe.ucsc.edu/Ëœmanfred/pubs/lrnk-olivier.pdf.AndresMunozMedinaandMehryarMohri.Learningtheoryandalgorithmsforrevenueoptimizationinsecondpriceauctionswithreserve.InProceedingsofThe31stIntl.Conf.onMachineLearning,pages262â€“270,2014.JamieHMorgensternandTimRoughgarden.Onthepseudo-dimensionofnearlyoptimalauctions.InAdvancesinNeuralInfor-mationProcessingSystems,pages136â€“144,2015.RogerBMyerson.Optimalauctiondesign.Mathematicsofoperationsresearch,6(1):58â€“73,1981.DavidPollard.Convergenceofstochasticprocesses.DavidPollard,NewHaven,Connecticut,1984.T.RoughgardenandO.Schrijvers.Ironinginthedark.Submitted,2015.AviadRubinsteinandS.MatthewWeinberg.Simplemechanismsforasubadditivebuyerandapplicationstorevenuemonotonicity.InProceedingsoftheSixteenthACMConferenceonEconomicsandComputation,ECâ€™15,pages377â€“394,NewYork,NY,USA,2015.ACM.TuomasSandholmandAntonLikhodedov.Automateddesignofrevenue-maximizingVladimirNaumovichVapnikandSamuelKotz.Estimationofdependencesbasedonempiricaldata.Springer,1982.AndrewChi-ChihYao.Ann-to-1bidderreductionformulti-itemauctionsanditsapplications.InProceedingsoftheTwenty-SixthAnnualACM-SIAMSymposiumonDiscreteAlgorithms,pagesprobability1âˆ’Î´overthechoiceofthesample.ThePACsamplecomplexityofaclassFcanbeboundedasapolynomialfunctionofVC(F),,andln1Î´(VapnikandChervonenkis,1971);furthermore,anyalgorithmwhichTheorem18[Babaioffetal.(2014)]Supposethereisasinglebuyerwhichhasanadditivevaluationviâˆ¼Di=(Di1Ã—...Ã—Dik).Then,foranitempricingpâˆˆRkandqagrandbundleprice,qâˆˆRmax(maxpâˆˆRkREV(p,Di),maxqâˆˆRREV(q,Di))â‰¥16REV(OPT,Di).Thefinalwell-knownresultforapproximatelyoptimalRubinsteinandWeinberg(2015),â€œsimpleâ€revenue-maximizingmechanismsstatesthat,foranappropriatelygeneralizeddefinitionofvaluationsdistributedâ€œindependentlyacrossitemsâ€,onecanapproximatelymaximizerevenuesellingtoasinglesubadditivebuyerwithitemorgrandbundlepricings.Wenowpresenttheformaldefinitionofindependencetheyuseforthesemorecomplicatedvaluationfunctions,andpresenttheirmainresult.Definition19(RubinsteinandWeinberg(2015))AdistributionDovervaluationfunctionsv:2kâ†’Rissubadditiveoverindependentitemsif:1.AllvinthesupportofDaremonotone;v(KâˆªK0)â‰¥v(K)forallK,K0.2.AllvinthesupportofDaresubadditive:v(KâˆªK0)â‰¤v(K)+v(K0)forallK,K0.3.AllvinthesupportofDexhibitnoexternalities:thereexistssomeDxoverRkandafunctionVsuchthatDisadistributionthatsamplesxâˆ¼Dxandoutputsvsuchthatv(K)=V({xÎº}ÎºâˆˆK,K)forallK.4.Dxisproductacrossitskdimensions.Theorem20[RubinsteinandWeinberg(2015)]SupposeDiissubadditiveoverindependentitems.Then,thereexistsauniversalconstantcâ‰¥1suchthatmax(maxpâˆˆRkREV(p,Di),maxqâˆˆRREV(q,Di))â‰¥1cREV(OPT,Di).AppendixD.Atighterboundonthepseudo-dimensionofsecond-priceitemauctionswithreservesforadditivebiddersWenowpresentatighteranalysisofsecond-priceitemauctionswithreserveswhichexploitsthetotalinde-pendenceofbuyersâ€™behavioronitemsj,j0.Theorem21Thepseudo-dimensionofitemauctionsandsecond-priceitemauctionswithanonymousitemreservesisO(klogk)andwithnonanonymousitemprices/reservesisO(nklog(nk))whenbiddersareadditive.ProofWepresenttheprooffortheclassofsecond-priceitemauctionswithitemreserves;theitempriceresultfollowseasilysincethewinnerforjalwayspaysheritemprice(ratherthanthemaximumofthatandthesecond-highestbidforj).Ratherthanprovingtheallocationrulesarelinearlyseparable,weupper-boundthenumberofinterme-diatelabelingstheseclassescaninduceformsamples,wheretheintermediatelabelspaceweconsideristheallocationcombinedwith,foreachitem,whetherthewinnerforthatitemispayingtheitemâ€™sreserveorsecondpriceforThiscanbeencodedin{0,1}2kforanonymousitemreserves(abitforwhetherornotanitemissoldatitsreserveandanotherforwhetheritissoldforitssecond-price),and{0,1}2nkforThen,F1canlabelSinatmost|rangef1âˆˆF1(decompressâ—¦compress)(S,f1(S))|wayssincethisisacompressionschemeforF1.Thedecompressionfunctiontakesasinputalabeledexampleswhich,bythedefinitionofÎ±iandtheassumptionthatÎ¨((vi,X),B)Â·whâ‰¤Hforallvi,X,B,hâˆˆHimpliesthatthemaximizinglabelBwillfirstpickB1âŠ†[k]=X1(v)tomaximizeÎ¨((v1,X1(v)),B1)Â·wh1,thenwillpickB2âŠ†[k]\B1=X2(v)tomaximizeÎ¨((v2,X2(v)),B2)Â·wh2,andsoon.Thus,F1isan-dimensionallylinearlyseparable.Now,supposeF1isasetofn-wiserepeatedallocations.SinceHisa-dimensionallylinearlyseparable,weknowthatforallv,X,Bi,thereexistsÎ¨((vi,X),Bi),andforallhâˆˆHthereissomewhsuchthatargmaxBiÎ¨((vi,X),Bi)Â·wh=h(vi,X).WesimplyneedtodefinesomeÎ¨Ì‚:VnÃ—Qâ†’Ra,wÌ‚hâˆˆRasuchthatargmaxBÎ¨Ì‚(v,B)Â·wÌ‚h=(h(v1,X1(v)),h(v2,X2(v)),...,h(vn,Xn(v))).Then,defineÎ¨Ì‚(v,B)x=XiÎ±iÂ·Î¨((vi,[k]\âˆªi0<iBi0),Bi)xThen,forsomeQh,...,h)âˆˆF1,definewÌ‚hx=whxThen,thedotproductÎ¨(v,B)Â·wÌ‚h=XxXiÎ±iÂ·Î¨((vi,[k]\âˆªi0<iBi0),Bi)xÂ·whx=XiÎ±iÂ·Î¨((vi,[k]\âˆªi0<iBi0),Bi)Â·wh,whichbythedefinitionofÎ±iandtheguaranteedupperboundonthedotproductÎ¨Â·whâ‰¤H,weknowwillbemaximizedbyfirstpickingsomeB1âŠ†[k]=X1(v)whichmaximizesÎ¨((v1,X1(v)),B1)Â·wh,thenpickingB2âŠ†X1(v)\h(v1,X1(v))=X2(v)whichmaximizesÎ¨((v2,X2(v)),B2)Â·wh,andsoon.Thus,F1isa-dimensionallylinearlyseparable.ProofofCorollary13:Wefirstprovefirstthatforasinglebuyer,thegrand-bundlemechanismis2-dimensionallylinearlyseparableover{0,1}.LetHdenotetheclassofsingle-buyergrandbundlepricings.ForsomehâˆˆH,wedefineh1:Vâ†’{0,1}ash1(v)=I[vâ‰¥ph],wherephâˆˆRrepresentsthepriceofthegrandbundleunderh.WewillshowHis2-dimensionallylinearlyseparableover{0,1}.DefineÎ¨(v,b)=I[b=1](v([k]),1)foreachbâˆˆ{0,1}andwh=(1,âˆ’ph).Then,argmaxbÎ¨(v,b)Â·wh=argmaxbI[b=1](v([k]âˆ’pf)=I[vâ‰¥ph]=f1(v)sincethepenultimateexpressionismaximizedbyb=1onlyifv([k])â‰¥pf.Thus,His2-dimensionallyseparable.NoticethatwhenFisthesetofanonymousgrandbundlepricings,itsallocationrulesF1aren-wiserepeatedallocationsfromH.Thus,byTheorem12,anonymousgrandbundlepricingsâ€™allocationsarelinearlyseparablein2dimensions.TheobviousintermediatelabelspaceQ={0}âˆª{ei|iâˆˆ[n]},thesetofstandardbasisvectors,containsmoreinformationthanisneededtocomputetherevenueoftheseauctions.Defineg(x)=I[||x||>0].LetF01=gâ—¦F1.Nowweproveforeachf1âˆˆF01thatF2|f1haspseudo-dimensionO(1).Fixsomef1âˆˆF01.Then,so,theclassF2|gâ—¦f1isaclassoflinearfunctionsin1dimensions,whichhavepseudo-dimensionatmost2.Thus,Fis(2,2,g)-factorableover{0,1},andRemark9impliesthatthepseudo-dimensionofanonymousgrandbundlepricingsisO(1).Similarly,whenFisthethesetofnon-anonymousgrandbundlepricings,F1aren-wisesequentialallocationsfromH.Thus,theseallocationrulesare2n-dimensionallylinearlyseparable,respectively.Inthiscase,weleavetheintermediatelabelspaceasQ={0}âˆª{ei|iâˆˆ[n]}.ForanyfâˆˆF,letpfâˆˆRndenotethepricevectorforthegrandbundle,thatispfiisiâ€™spriceforpurchasingthegrandbundle.Fixsomef1âˆˆF1;weclaimthatF2|f1haspseudo-dimensionO(n).Foranyf02âˆˆF2andanyfwhichisdecomposedinto(f1,f2),wehavethatf02(v)=f2(f1(v),v)=pfÂ·f1(v),whichagainisalinearfunctionwhenf1isfixed,inthiscaseinndimensions.Thus,Fis(2n,n)-factorableoverQ,soTheorem7impliesthatthepseudo-dimensionofnonanonymousgrandbundlepricingsisO(nlogn).ProofofCorollary14:Asinthepreviousproof,weclaimthatF1,theallocationrulesoftheseauctionsaren-wiserepeatedallocationsandn-wisesequentialallocationsfromthesingle-buyeritempricingsallocationsetH.WebeginbyshowingHisk+1-dimensionallylinearlyseparable.ForsomehâˆˆH,letphâˆˆRndenotetheitempricingfacedbythesinglebuyer.Then,defineforvâˆˆV,Bâˆˆ{0,1}k,Î¨(v,B)j=(I[jâˆˆB]ifjâˆˆ[k]v(B)ifj=k+1andforhâˆˆH,definewhj=(âˆ’phjifjâˆˆ[k]1ifj=k+1.Then,wehavethatÎ¨(v,B)Â·wh=v(B)âˆ’PjâˆˆBphj,whichwillbemaximizedbyBwhichmaximizesvâ€™sutility.Thus,h(v)=argmaxBv(B)âˆ’PjâˆˆBphj=argmaxBÎ¨(v,B)Â·wh,soHisk+1-dimensionallylinearlyseparable.ConsiderFtheclassofanonymousitemprices.Theorem12impliesthatthisclassisk+1-dimensionallylinearlyseparableoverQ=[n]k.Again,theintermediatelabelspacesuggestedbythisreductiontothesingle-buyercase,Q=[n]k,islargerthannecessarytocomputerevenue.Defineg(B)j=I[jâˆˆâˆªiBi]andQ0={0,1}k.Wenowshowthat,forafixedf1âˆˆF1,theclassF2|gâ—¦f1haspseudo-dimensionO(k).Noticethatforanyf02âˆˆF2|gâ—¦f1,wehavethatf02(v)=f2(g(f1(v)),v)=pfÂ·f1(v)which,againisak-dimensionallinearfunctionforsomefixedf1,andthereforehaspseudo-dimensionatmostk+1.Thus,theclassFcanbe(k+1,k+1,g)-factoredover{0,1}k,andRemark9impliesthepseudo-dimensionisthusatmostO(k2).Theproofforthenonanonymouscaseisidentical,withtwochanges.First,F1isasetofn-wisese-quentialallocations,soitislinearlyseparableinn(k+1)dimensions.Second,wecannotcompresstheintermediatelabelspaceQâŠ‚{0,1}nk,|Q|â‰¤[n]k,sincef02(v)=f2(f1(v),v)=pfÂ·f1(v)onlyex-pressestherevenueoftheauctioniff1(v)expresseswhichbuyerspurchasewhichitems;thus,thesetF2|f1haspseudo-dimensionatmostO(nk).Thus,theclassFcanbe(O(nk),O(nk))-factoredoverQwith|Q|â‰¤[n]k,andTheorem7impliesthepseudo-dimensionisthus