IterativeRankingfromPair-wiseComparisonsSahandNegahbanDepartmentofEECSMassachusettsInstituteofTechnologysahandn@mit.eduSewoongOhDepartmentofIESEUniversityofIllinoisatUrbanaChampaignswoh@illinois.eduDevavratShahDepartmentofEECSMassachusettsInstituteofTechnologydevavrat@mit.eduAbstractThequestionoutcomesofthegamesareusedtolearntheseskillparameterswhichinturnleadtoscoresassociatewitheachplayer.Inmostsuchsettings,similarmodel-basedapproachesareemployed.Inthispaper,wehavesetoutwiththefollowinggoal:developanalgorithmfortheabovestatedproblemwhich(a)iscomputationallysimple,(b)workswithavailable(comparison)dataonlyanddoesnottrytofitanymodelperse,(c)makessenseingeneral,and(d)ifthedataindeedobeysareasonablemodel,astheoutput.Theproposedalgorithmhasaniceintuitiveexplanation.Consideragraphwithnodes/verticescorrespondingtotheitemsofinterest(e.g.players).Constructarandomwalkonthisgraphwhereateachtime,therandomwalkislikelytogofromvertexitovertexjifitemsiandjwereevercompared;andifso,thelikelihoodofgoingfromitojdependsonhowoftenilosttoj.Thatis,therandomwalkismorelikelytomovetoaneighborwhohasmore“wins”.Howfrequentlythiswalkvisitsaparticularnodeinthelongrun,orequivalentlythestationarydistribution,isthescoreofthecorrespondingitem.Thus,effectivelythisalgorithmcapturespreferenceofthegivenitemversusalloftheothers,notgovernedbytheBTLmodelofpairwisecomparisons.However,thealgorithmitselfoperateswithdatageneratedinarbitrarymanner.Tobeginwith,therearenitemsofinterest,representedas[n]={1,...,n}.Weshallassumethatforeachitemi∈[n]thatthereisanassociatedweightscorewi∈R+(i.e.it’sastrictlypositiverealnumber).Hence,wemayconsiderthevectorw∈Rn+tobetheassociatedweightvectorofallitems.GivenapairofitemsiandjwewillletYlijbe1ifjispreferredoveriand0otherwiseduringthelthcompetitionfor1≤l≤k,wherekisthetotalnumberofcompetitionsforthepair.UndertheBTLmodelweassumethatP(Ylij=1)=wjwi+wj.(1)Furthermore,conditionedonthescorevectorwweassumethethevariablesYli,jareindependentforalli,j,andwithp0=(p0(i))∈Rn+beanarbitrarystartingdistributionon[n].Then,pTt+1=pTtP.(3)Regardlessofthestartingdistribution,whenthetransitionmatrixhasauniquetopeigenvalue,therandomwalkalwaysconvergestoauniquedistribution:thestationarydistributionπ=limt→∞pt.Inlinearalgebraterms,thisstationarydistributionπisthetoplefteigenvectorofP,whichmakescomputingπasimpleeigenvectorcomputation.Formally,westatethealgorithm,whichassignsnumericalscorestoeachnode,whichweshallcallRankCentrality:RankCentralityInput:G=([n],E,A)Output:rank{π(i)}i∈[n]1:ComputethetransitionmatrixPaccordingto(2);2:Computethestationarydistributionπ.Thestationarydistributionoftherandomwalkisafixedpointofthefollowingequation:π(i)=Xjπ(j)AjiP`Ai`.Thissuggestsanalternativeintuitivejustification:anobjectreceivesahighrankifithasbeenpreferredtootherhighrankingobjectsorifithasbeenpreferredtomanyobjects.Onekeyquestionremains:doesPhaveawelldefinedstationarydistribution?Asdiscussedear-lier,whenGisconnected,theidealizedtransitionmatrixP̃hasstationarydistributionwithdesiredproperties.Butduetonoise,PmaynotbereversibleandtheargumentsofidealP̃donotapplytooursetting.Indeed,itisthefinitesampleerrorthatgovernsthenoise.Therefore,byanalyzingtheeffectofthisnoise(andhencethefinitesamples),itislikelythatwecanobtaintheerrorboundontheperformanceofthealgorithm.Asanimportantcontributionofthiswork,wewillshowthateventheiterations(cf.(3))inducedbyParecloseenoughtothoseinducedbyP̃.Subsequently,wecanguaranteethattheiterativealgorithmwillconvergetoasolutionthatisclosetotheidealstationarydistribution.3MainResultsOurmainresult,Theorem1,providesanupperboundonestimatingthestationarydistributiongiventheobservationmodelpresentedabove.Theresultsdemonstratethatevenwithrandomsamplingwecanestimatetheunderlyingscorewithhighprobabilitywithgoodaccuracy.TheboundsarepresentedastherescaledEuclideannormbetweenourestimateπandtheunderlyingstationarydis-tributionP̃.Thiserrormetricprovidesuswithameanstoquantifytherelativecertaintyinguessingifoneitemispreferredoveranother.Furthermore,producingsuchscoresareubiquitous[17]astheymayalsobeusedtocalculatethedesiredrankings.Afterpresentingourmaintheoreticalresultwewillthenprovidesimulationsdemonstratingtheempiricalperformanceofouralgorithmindifferentcontexts.3.1ErrorboundinstationarydistributionrecoveryviaRankCentralityThetheorembelowpresentsourmainrecoverytheoremunderthesamplingassumptionsdescribedabove.Itisworthnotingthatwhiletheresultpresentedbelowisforthespecificsamplingmodeldescribedabove.TheresultscanbeextendedtogeneralgraphsaslongasthespectralgapofthecorrespondingMarkovchainiswellbehaved.Wewilldiscussthepointfurtherinthesequel.Theorem1.Assumethat,amongnitems,eachpairischosenwithprobabilityd/nandforeachchosenpairwecollecttheoutcomesofkcomparisonsaccordingtotheBTLmodel.Then,thereexistspositiveuniversalconstantsC,C0,andC00suchthatwhend≥C(logn)2,andkd≥Cb5logn,thefollowingboundontheerrorrateholdswithprobabilityatleast1−C00/n3:π−π̃kπ̃k≤C0b3rlognkd,whereπ̃(i)=wi/P`w`andb≡maxi,jRemarks.Someremarksareinorder.First,theaboveresultimpliesthataslongaswechoosed=Θ(log2n)andk=ω(1)(i.e.largeenough,sayk=Θ(logn)),theerrorgoesto0(withk=Θ(logn),itgoesdownatrate1/√logn)asnincreases.Sincewearesamplingeachofthen2pairswithprobabilityd/nandthensamplingthemktimes,weobtainO(nlog3n)(withk=Θ(logn))comparisonsintotal.DuetoclassicalresultsonErdos-Renyigraphs,theinducedgraphGisconnectedwithhighprobabilityonlywhentotalnumberofpairssampledscalesasΩ(nlogn)–weneedatleastthosemanycomparisons.Thus,ourresultcanbesub-optimalonlyup0.00010.0010.010.1110100RatioMatrixCountWinsRankCentralityMLestimate0.0010.010.10.11RatioMatrixCountWinsRankCentralityMLestimateDw(σ)kd/nFigure1:AverageerrorDw(σ)oforderingsfromfourrankaggregationalgorithms,averagedover20in-stances.Inthefigureontherightweassumethatdandnarefixedwhileweincreasek.Thefigureontherighttakesk=32fixedandletsdincrease.lemmathatTheaboveresultprovidesageneralmechanismforestablishingerrorboundsbetweenanestimatedstationarydistributionπandthedesiredstationarydistributionπ̃.Itisworthnotingthattheresultonlyrequirescontrolonthequantitiesk∆k2and1−ρ.Wemaynowstatetwotechnicallemmasthatprovidecontrolonthequantitiesk∆k2and1−ρ,respectively.Lemma4.2.UndertheassumptionsofTheorem1,wehavethattheerrormatrix∆=P−P̃satisfiesk∆k2≤CrlognkdforsomepositiveuniversalconstantCwithprobabilityatleast1−3n−4Thenextlemmaprovidesourdesiredboundon1−ρ.Lemma4.3.UndertheassumptionsofTheorem1,thespectralradiussatisfies1−ρ≥C0/b2withprobabilityatleast1−n−c,forsomepositiveuniversalconstantC0andc.TheconstantccanbemadeaslargeaswewantbyincreasingtheconstantCind≥Clogn.WiththeaboveresultsinhandwemaynowproceedwiththeproofofTheorem1.Whenthereisapositivespectralgapρ<1thefirsttermin(4)vanishesastgrows.Therestofthefirsttermisboundedandindependentoft.Formally,wehaveπ̃max/π̃min≤b,kπ̃k≥1/√n,andkp0−π̃k≤2,bytheassumptionthatmaxi,jwi/wj≤bandthefactthatπ̃(i)=wi/(Pjwj).Hence,theerrorbetweenthedistributionatthetthiterationptandthetruestationarydistributionπ̃isdominatedbythesecondterminequation(4).Therefore,inordertofinishtheproofofTheorem1werequireboundsonk∆k2and1−ρ.WerecallthatbyLemma4.2wehavek∆k2≤Cplogn/(kd)andfromLemma4.3thatthereisapositivespectralgap1−ρ≥C0/b2forsomenumericalconstantsCandC0.Giventheseobservationsthedominantsecondterminequation(4)isboundedbylimt→∞pt−π̃kπ̃k≤Cb3rlognkd.ThisfinishestheproofofTheorem1.5DiscussionInthispaper,wedevelopedanoveliterativerankaggregationalgorithmfordiscoveringscoresofobjectsgivenpairwisecomparisons.Thealgorithmhasanaturalrandomwalkinterpretationoverthegraphofobjectswithedgespresentbetweentwoobjectsiftheyarecompared;thescoresturnouttobethestationaryprobabilityofthisrandomwalk.Inlieuofrecentworksonnetworkcentralitywhicharegraphscorefunctionsprimarilybasedonrandomwalks,wecallthisalgorithmRankCentrality.Thealgorithmismodelindependent.Wealsoestablishedtheefficacyofthealgorithmbyanalyzingitsperformancewhendataisgen-eratedasperthepopularBradley-Terry-Luce(BTL)model.WehaveobtainedananalyticboundonthefinitesampleerrorratesbetweenthescoresassumedbytheBTLmodelandthoseestimatedbyouralgorithm.Asshown,theseleadtoorder-optimaldependenceonthenumberofsamplesre-quiredtolearnthescoreswellbyouralgorithm.Theexperimentalevaluationshowthatour(modelindependent)algorithmperformsaswellastheMaximumLikelihoodEstimatoroftheBTLmodelandoutperformsotherknowncompetitorsincludedtherecentlyproposedalgorithmbyAmmarandShah[1].Giventhesimplicityofthealgorithm,analyticguaranteesandwideutilityoftheproblemofrankaggregation,References[1]A.AmmarandD.Shah.Communication,control,andcomputing(allerton),2011,49thannualallertonconferenceon.pages776–783,September2011.[2]E.J.CandèsandB.Recht.Exactmatrixcompletionviaconvexoptimization.FoundationsofComputationalMathematics,9(6):717–772,2009.[3]R.H.Keshavan,A.Montanari,andS.Oh.Matrixcompletionfromafewentries.InformationTheory,IEEETransactionson,56(6):2980–2998,june2010.[4]S.NegahbanandM.J.Wainwright.Restrictedstrongconvexityand(weighted)matrixcom-pletion:Optimalboundswithnoise.JournalofMachineLearningResearch,2012.Toappear;postedathttp://arxiv.org/abs/1009.2118.[5]M.Condorcet.Essaisurl’applicationdel’analyseàlaprobabilitédesdécisionsrenduesàlapluralitédesvoix.l’ImprimerieRoyale,1785.[6]K.J.Arrow.SocialChoiceandIndividualValues.YaleUniversityPress,1963.[7]M.BravermanandE.Mossel.Noisysortingwithoutresampling.InProceedingsofthenine-teenthannualACM-SIAMsymposiumonDiscretealgorithms,SODA’08,pages268–276.SocietyforIndustrialandAppliedMathematics,2008.[8]R.A.BradleyandM.E.Terry.Rankanalysisofincompleteblockdesigns:I.the